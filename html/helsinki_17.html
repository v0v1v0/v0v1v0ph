<div class="container">

<table style="width: 100%;"><tr>
<td>wfs_api</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>WFS API</h2>

<h3>Description</h3>

<p>Requests to various WFS API.
</p>


<h3>Usage</h3>

<pre><code class="language-R">wfs_api(base.url = NULL, queries, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>base.url</code></td>
<td>
<p>WFS url, for example "https://kartta.hsy.fi/geoserver/wfs"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>queries</code></td>
<td>
<p>List of query parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>For passing parameters to embedded functions, for example
<em>timeout.s</em> (timeout in seconds) in the case of <strong>gracefully_fail()</strong>
internal function</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Make a request to the spesific WFS API. The base url is
https://kartta.hsy.fi/geoserver/wfs to which other
components defined by the arguments are appended.
</p>
<p>This is a low-level function intended to be used by other higher level
functions in the package.
</p>


<h3>Value</h3>

<p>wfs_api (S3) object with the following attributes:
</p>

<dl>
<dt>content</dt>
<dd>
<p>XML payload.</p>
</dd>
<dt>path</dt>
<dd>
<p>path provided to get the resonse.</p>
</dd>
<dt>response</dt>
<dd>
<p>the original response object.</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Joona Lehtom√§ki <a href="mailto:joona.lehtomaki@iki.fi">joona.lehtomaki@iki.fi</a>, Kostas Vasilopoulos,
Pyry Kantanen
</p>


<h3>Source</h3>

<p>Gracefully failing HTTP request code (slightly adapted by Pyry
Kantanen) from RStudio community member kvasilopoulos. Many thanks!
</p>
<p>Source of the original RStudio community discussion:
<a href="https://community.rstudio.com/t/internet-resources-should-fail-gracefully/49199">https://community.rstudio.com/t/internet-resources-should-fail-gracefully/49199</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
  wfs_api(base.url = "https://kartta.hsy.fi/geoserver/wfs", 
          queries = c("service" = "WFS", 
          "version" = "1.0.0", 
          "request" = "getFeature", 
          "typeName" = "ilmanlaatu:Ilmanlaatu_nyt")
          )

## End(Not run)
                     
</code></pre>


</div>