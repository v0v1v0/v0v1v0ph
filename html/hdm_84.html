<div class="container">

<table style="width: 100%;"><tr>
<td>rlassoIVselectX</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Instrumental Variable Estimation with Selection on the exogenous Variables by Lasso</h2>

<h3>Description</h3>

<p>This function estimates the coefficient of an endogenous variable by employing Instrument Variables in a setting where the exogenous variables are high-dimensional and hence
selection on the exogenous variables is required.
The function returns an element of class <code>rlassoIVselectX</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">rlassoIVselectX(x, ...)

## Default S3 method:
rlassoIVselectX(x, d, y, z, post = TRUE, ...)

## S3 method for class 'formula'
rlassoIVselectX(formula, data, post = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>exogenous variables in the structural equation (matrix)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to the function <code>rlasso</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>endogenous variables in the structural equation (vector or matrix)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>outcome or dependent variable in the structural equation (vector or matrix)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>set of potential instruments for the endogenous variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>post</code></td>
<td>
<p>logical. If <code>TRUE</code>, post-lasso estimation is conducted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>An object of class <code>Formula</code> of the form " y ~ x + d | x + z" with y the outcome variable,
d endogenous variable, z instrumental variables, and x exogenous variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An optional data frame, list or environment (or object coercible by as.data.frame to a data frame) containing the variables in the model. 
If not found in data, the variables are taken from environment(formula), typically the environment from which <code>rlassoIVselectX</code> is called.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The implementation is a special case of of Chernozhukov et al. (2015).
The option <code>post=TRUE</code> conducts post-lasso estimation for the Lasso estimations, i.e. a refit of the
model with the selected variables. Exogenous variables 
<code>x</code> are automatically used as instruments and added to the
instrument set <code>z</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>rlassoIVselectX</code> containing at least the following
components: </p>
<table>
<tr style="vertical-align: top;">
<td><code>coefficients</code></td>
<td>
<p>estimated parameter vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcov</code></td>
<td>
<p>variance-covariance matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>residuals</code></td>
<td>

<p>residuals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samplesize</code></td>
<td>
<p>sample size</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Chernozhukov, V., Hansen, C. and M. Spindler (2015). Post-Selection and Post-Regularization Inference in Linear
Models with Many Controls and Instruments
<em>American Economic Review, Papers and Proceedings</em> 105(5), 486â€“490.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(hdm)
data(AJR); y = AJR$GDP; d = AJR$Exprop; z = AJR$logMort
x = model.matrix(~ -1 + (Latitude + Latitude2 + Africa + 
                           Asia + Namer + Samer)^2, data=AJR)
dim(x)
  #AJR.Xselect = rlassoIV(x=x, d=d, y=y, z=z, select.X=TRUE, select.Z=FALSE)
  AJR.Xselect = rlassoIV(GDP ~ Exprop +  (Latitude + Latitude2 + Africa + Asia + Namer + Samer)^2 |
             logMort +  (Latitude + Latitude2 + Africa + Asia + Namer + Samer)^2,
             data=AJR, select.X=TRUE, select.Z=FALSE)
summary(AJR.Xselect)
confint(AJR.Xselect)
</code></pre>


</div>