<div class="container">

<table style="width: 100%;"><tr>
<td>Client</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Client Class</h2>

<h3>Description</h3>

<p>The Client is the central gateway for interfacing with the HDA Service.
It provides a comprehensive suite of methods to perform operations and retrieve data from the service efficiently.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>apiUrl</code></dt>
<dd>
<p>API endpoint</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Client-new"><code>Client$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Client-token"><code>Client$token()</code></a>
</p>
</li>
<li> <p><a href="#method-Client-get_token"><code>Client$get_token()</code></a>
</p>
</li>
<li> <p><a href="#method-Client-send_request"><code>Client$send_request()</code></a>
</p>
</li>
<li> <p><a href="#method-Client-show_terms"><code>Client$show_terms()</code></a>
</p>
</li>
<li> <p><a href="#method-Client-terms_and_conditions"><code>Client$terms_and_conditions()</code></a>
</p>
</li>
<li> <p><a href="#method-Client-datasets"><code>Client$datasets()</code></a>
</p>
</li>
<li> <p><a href="#method-Client-search"><code>Client$search()</code></a>
</p>
</li>
<li> <p><a href="#method-Client-get_querytemplate"><code>Client$get_querytemplate()</code></a>
</p>
</li>
<li> <p><a href="#method-Client-generate_query_template"><code>Client$generate_query_template()</code></a>
</p>
</li>
<li> <p><a href="#method-Client-clone"><code>Client$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-Client-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Constructor for the 'Client' class. Initializes a new instance with authentication credentials.
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$new(user, password, save_credentials = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>user</code></dt>
<dd>
<p>Character string representing the username for authentication.</p>
</dd>
<dt><code>password</code></dt>
<dd>
<p>Character string representing the password for authentication.</p>
</dd>
<dt><code>save_credentials</code></dt>
<dd>
<p>A logical value indicating whether to save the credentials to a configuration file. Default is FALSE.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>An instance of the 'Client' class.
</p>


<hr>
<a id="method-Client-token"></a>



<h4>Method <code>token()</code>
</h4>

<p>Retrieves the current authentication token.
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$token()</pre></div>



<h5>Returns</h5>

<p>Character string representing the authentication token.
</p>


<hr>
<a id="method-Client-get_token"></a>



<h4>Method <code>get_token()</code>
</h4>

<p>Generates a new authentication token.
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$get_token()</pre></div>



<h5>Returns</h5>

<p>Character string representing the newly generated token.
</p>


<hr>
<a id="method-Client-send_request"></a>



<h4>Method <code>send_request()</code>
</h4>

<p>Sends a specified request to the server and returns the response.
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$send_request(req, raw_response = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>req</code></dt>
<dd>
<p>A request object or list representing the HTTP request.</p>
</dd>
<dt><code>raw_response</code></dt>
<dd>
<p>Optional logical value indicating whether the raw response should be returned instead of the parsed body.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A response object containing the server's response.
</p>


<hr>
<a id="method-Client-show_terms"></a>



<h4>Method <code>show_terms()</code>
</h4>

<p>This function displays the terms and conditions for the services.
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$show_terms()</pre></div>



<h5>Returns</h5>

<p>An HTML document containing the terms and conditions in a collapsible format.
</p>


<hr>
<a id="method-Client-terms_and_conditions"></a>



<h4>Method <code>terms_and_conditions()</code>
</h4>

<p>Function to retrieve and accept terms and conditions. Accepting T&amp;C is permanent,
it is enough to run this function one.
To read T&amp;C see <code>show_terms</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$terms_and_conditions(term_id, reject = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>term_id</code></dt>
<dd>
<p>A character vector of term_ids that you wish to accept.
If missing current status is returned.
Use "<strong>all</strong>" if you want to accept all terms at once.</p>
</dd>
<dt><code>reject</code></dt>
<dd>
<p>Logical, default 'FALSE'. If TRUE it inverts the operation and
the provided term_id's are rejected/revoked.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A data frame reflecting the actual acceptance status for each term.
</p>


<hr>
<a id="method-Client-datasets"></a>



<h4>Method <code>datasets()</code>
</h4>

<p>Lists datasets available on WEkEO, optionally filtered by a text pattern.
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$datasets(pattern = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>pattern</code></dt>
<dd>
<p>Optional character string to filter dataset names by matching text.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>List containing datasets and associated information.
</p>


<hr>
<a id="method-Client-search"></a>



<h4>Method <code>search()</code>
</h4>

<p>This function performs a search based on a specified query and returns an instance of <code>SearchResults</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$search(json_query, limit = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>json_query</code></dt>
<dd>
<p>Character string representing the search query.</p>
</dd>
<dt><code>limit</code></dt>
<dd>
<p>Optional; a number specifying the maximum number of results to return.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>An instance of the <code>SearchResults</code> class containing the search results.
</p>


<hr>
<a id="method-Client-get_querytemplate"></a>



<h4>Method <code>get_querytemplate()</code>
</h4>

<p>Retrieves the raw query metadata for a specified datasetId.
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$get_querytemplate(datasetId, to_json = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>datasetId</code></dt>
<dd>
<p>Character, representing the dataset's identifier.</p>
</dd>
<dt><code>to_json</code></dt>
<dd>
<p>Logical; if 'TRUE', returns the data in JSON format.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>List or JSON file containing the raw query options.
</p>


<hr>
<a id="method-Client-generate_query_template"></a>



<h4>Method <code>generate_query_template()</code>
</h4>

<p>This function generates a query template based on a specified datasetId.
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$generate_query_template(datasetId)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>datasetId</code></dt>
<dd>
<p>A numeric or character ID representing the dataset.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A JSON representing the generated query template.
</p>


<hr>
<a id="method-Client-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Note</h3>

<p>There are some inconsistencies between the return of 'GET querymetadata' and what must be submitted to the HDA.
Use <code>generate_query_template</code> to resolve these inconsistencies.
</p>


<h3>See Also</h3>

<p><code>show_terms</code> to read the Terms and conditions.
</p>
<p><code>SearchResults</code> for details on the returned object.
</p>


</div>