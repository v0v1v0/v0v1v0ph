<div class="container">

<table style="width: 100%;"><tr>
<td>createSensitivityPlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Constructs sensitivity plot for <code class="reqn">\Delta = \Delta^{SD}(M)</code>, <code class="reqn">\Delta^{SDB}(M)</code> and <code class="reqn">\Delta^{SDM}(M)</code>
</h2>

<h3>Description</h3>

<p>This function constructs sensitivity plots that examine how the robust confidence sets change as the parameter M varies for <code class="reqn">\Delta = \Delta^{SD}(M)</code>, <code class="reqn">\Delta^{SDB}(M)</code> and <code class="reqn">\Delta^{SDM}(M)</code>. Similar plots are constructed in Section 6 of Rambachan &amp; Roth (2021).
</p>


<h3>Usage</h3>

<pre><code class="language-R">createSensitivityPlot(robustResults, originalResults,
                      rescaleFactor = 1, maxM = Inf, add_xAxis = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>robustResults</code></td>
<td>

<p>Dataframe that contains the upper/lower bounds of robust confidence sets for each choice of M. Contains columns: method –  Method of constructing robust confidence set (e.g., "FLCI"), lb – Lower bound of robust confidence set, ub – Upper bound of robust confidence set, M – M values associated with each robust confidence set.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>originalResults</code></td>
<td>

<p>Dataframe that contains the original confidence set for the parameter of interest. Contains columns: method –  Method of constructing confidence set (e.g., "Original"), lb – Lower bound of confidence set, ub – Upper bound of confidence set.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rescaleFactor</code></td>
<td>

<p>Scalar that is used to rescale the user specified choices of M and the upper/lower bounds of the confidence sets. Default equals one.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxM</code></td>
<td>

<p>Scalar that specifies the maximum M value to plot in the sensitivity plot. Default equals infinity (no truncation).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_xAxis</code></td>
<td>

<p>Logical specifying whether to plot the x-axis in the sensitivity plot. Default equals TRUE.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns ggplot object of the sensitivity plot.
</p>


<h3>Author(s)</h3>

<p>Ashesh Rambachan
</p>


<h3>References</h3>

<p>Rambachan, Ashesh and Jonathan Roth. "An Honest Approach to Parallel Trends." 2021.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
  # Simple use case; for more detailed examples,
  # see &lt;https://github.com/asheshrambachan/HonestDiD#honestdid&gt;
  robustResults &lt;-
    createSensitivityResults(betahat        = BCdata_EventStudy$betahat,
                             sigma          = BCdata_EventStudy$sigma,
                             numPrePeriods  = length(BCdata_EventStudy$prePeriodIndices),
                             numPostPeriods = length(BCdata_EventStudy$postPeriodIndices),
                             alpha          = 0.05)
  originalResults &lt;-
    constructOriginalCS(betahat        = BCdata_EventStudy$betahat,
                        sigma          = BCdata_EventStudy$sigma,
                        numPrePeriods  = length(BCdata_EventStudy$prePeriodIndices),
                        numPostPeriods = length(BCdata_EventStudy$postPeriodIndices),
                        alpha          = 0.05)
  createSensitivityPlot(robustResults, originalResults)

</code></pre>


</div>