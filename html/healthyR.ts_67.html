<div class="container">

<table style="width: 100%;"><tr>
<td>ts_lag_correlation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Time Series Lag Correlation Analysis</h2>

<h3>Description</h3>

<p>This function outputs a list object of both data and plots.
</p>
<p>The data output are the following:
</p>

<ul>
<li>
<p> lag_list
</p>
</li>
<li>
<p> lag_tbl
</p>
</li>
<li>
<p> correlation_lag_matrix
</p>
</li>
<li>
<p> correlation_lag_tbl
</p>
</li>
</ul>
<p>The plots output are the following:
</p>

<ul>
<li>
<p> lag_plot
</p>
</li>
<li>
<p> plotly_lag_plot
</p>
</li>
<li>
<p> correlation_heatmap
</p>
</li>
<li>
<p> plotly_heatmap
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">ts_lag_correlation(
  .data,
  .date_col,
  .value_col,
  .lags = 1,
  .heatmap_color_low = "white",
  .heatmap_color_hi = "steelblue"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>A tibble of time series data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.date_col</code></td>
<td>
<p>A date column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.value_col</code></td>
<td>
<p>The value column being analyzed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.lags</code></td>
<td>
<p>This is a vector of integer lags, ie 1 or c(1,6,12)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.heatmap_color_low</code></td>
<td>
<p>What color should the low values of the heatmap of
the correlation matrix be, the default is 'white'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.heatmap_color_hi</code></td>
<td>
<p>What color should the low values of the heatmap of
the correlation matrix be, the default is 'steelblue'</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function takes in a time series data in the form of a tibble and
outputs a list object of data and plots. This function will take in an argument
of '.lags' and get those lags in your data, outputting a correlation matrix,
heatmap and lag plot among other things of the input data.
</p>


<h3>Value</h3>

<p>A list object
</p>


<h3>Author(s)</h3>

<p>Steven P. Sanderson II, MPH
</p>


<h3>See Also</h3>

<p>Other Utility: 
<code>auto_stationarize()</code>,
<code>calibrate_and_plot()</code>,
<code>internal_ts_backward_event_tbl()</code>,
<code>internal_ts_both_event_tbl()</code>,
<code>internal_ts_forward_event_tbl()</code>,
<code>model_extraction_helper()</code>,
<code>ts_get_date_columns()</code>,
<code>ts_info_tbl()</code>,
<code>ts_is_date_class()</code>,
<code>ts_model_auto_tune()</code>,
<code>ts_model_compare()</code>,
<code>ts_model_rank_tbl()</code>,
<code>ts_model_spec_tune_template()</code>,
<code>ts_qq_plot()</code>,
<code>ts_scedacity_scatter_plot()</code>,
<code>ts_to_tbl()</code>,
<code>util_difflog_ts()</code>,
<code>util_doublediff_ts()</code>,
<code>util_doubledifflog_ts()</code>,
<code>util_log_ts()</code>,
<code>util_singlediff_ts()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)

df &lt;- ts_to_tbl(AirPassengers) %&gt;% select(-index)
lags &lt;- c(1,3,6,12)

output &lt;- ts_lag_correlation(
  .data = df,
  .date_col = date_col,
  .value_col = value,
  .lags = lags
)

output$data$correlation_lag_matrix
output$plots$lag_plot

</code></pre>


</div>