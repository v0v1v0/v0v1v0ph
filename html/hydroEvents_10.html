<div class="container">

<table style="width: 100%;"><tr>
<td>eventMinima</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Event identification (using local minima as a basis)</h2>

<h3>Description</h3>

<p>Events are identified on the basis of local minima with an "event" considered to have
occurred once the data has returned to within a threshold level of the start of the event.
</p>


<h3>Usage</h3>

<pre><code class="language-R">eventMinima(
  data,
  delta.y = 20,
  delta.x = 5,
  threshold = -1,
  out.style = "summary"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The data vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta.y</code></td>
<td>
<p>Maximum allowable difference between troughs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta.x</code></td>
<td>
<p>Minimum length for an event</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>Value above which an event is considered to have occurred</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out.style</code></td>
<td>
<p>The type of output (currently either "summary" or "none")</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>threshold</code> is applied after the event separation meaning that if a trough
goes below the threshold but was originally considered one event it will continue to be considered one event.
This makes this method distinct from the peaks over threshold algorithm in <code>eventPOT</code>. The <code>threshold</code>
here should be thought of as a filter to remove trace amounts that are not part of an event rather than event separation
metric.
</p>


<h3>Value</h3>

<p>By default, the <code>out.style</code> returns the indices of the maximum in each event, as well as the value of
the maximum and the sum of the <code>data</code> in each event, alongside the start and end of the events. Otherwise just
the indices of start and end of events as a two column dataframe are returned.
</p>


<h3>References</h3>

<p>Tang, W., &amp; Carey, S. K. (2017) HydRun: A MATLAB toolbox for rainfall-runoff analysis,
Hydrological Processes (31) 2670-2682
</p>


<h3>See Also</h3>

<p><code>calcStats</code> <code>eventBaseflow</code> <code>eventMaxima</code> <code>eventPOT</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example extracting events from quickflow
bf = baseflowB(dataBassRiver, alpha = 0.925)
qf = dataBassRiver - bf$bf
events = eventMinima(qf, delta.x = 5, delta.y = 20)
print(events)
plotEvents(qf, dates = NULL, events = events, type = "lineover", main = "")
# delta.x = 5, delta.y = 20 # 5 events identified
# delta.x = 5, delta.y = 10 # 4 events identified
# delta.x = 1, delta.y = 20 # 6 events identified
</code></pre>


</div>