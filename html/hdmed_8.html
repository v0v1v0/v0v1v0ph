<div class="container">

<table style="width: 100%;"><tr>
<td>mediate_pcma</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Principal Component Mediation Analysis for High-dimensional Mediators</h2>

<h3>Description</h3>

<p><code>mediate_pcma</code> applies principal component mediation analysis
(Huang and Pan, 2013) to mediation settings in which the mediators are high-dimensional.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mediate_pcma(
  A,
  M,
  Y,
  var_per = 0.8,
  n_pc = NULL,
  sims = 1000,
  boot_ci_type = "bca",
  ci_level = 0.95,
  seed = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>A</code></td>
<td>
<p>length <code>n</code> numeric vector containing exposure variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p><code>n x p</code> numeric matrix of high-dimensional mediators.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>length <code>n</code> numeric vector containing continuous outcome variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_per</code></td>
<td>
<p>a numeric variable with the desired proportion of variance
explained. Default is 0.8.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_pc</code></td>
<td>
<p>optional numeric variable with the desired number of PCs, in which case
<code>var_per</code> is ignored. Default is <code>NULL</code> and the number of PCs is
determined based on the desired proportion of variance explained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sims</code></td>
<td>
<p>number of Monte Carlo draws for nonparametric bootstrap or
quasi-Bayesian approximation (see <code>mediation::mediate()</code>).
Default is 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot_ci_type</code></td>
<td>
<p>a character string indicating the type of bootstrap
confidence intervals for when <code>boot = TRUE</code>. If <code>"bca"</code>,
bias-corrected and accelerated (BCa) confidence intervals will be estimated.
If <code>"perc"</code>, percentile confidence intervals will be estimated
(see <code>mediation::mediate()</code>). Default is "bca".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci_level</code></td>
<td>
<p>the desired confidence level. Default is 0.95.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>seed used for fitting single-mediator models after PCA</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Principal component mediation analysis (PCMA) is a method for estimating
mediation effects when the mediators are high-dimensional. The first step
is to compute the residuals of mediator models (<code class="reqn">M|A</code>), then perform
PCA on those residuals to reduce them to a smaller number of mediators
that efficiently explain the residual variance. Then, since those mediators
are linearly independent conditional on A, one can trivially perform
single-mediator mediation analysis for each PC on its own, in this case
by using the <code>mediation::mediate()</code> function. The global mediation effect is estimated
by summing the mediation effects of the individual PCs.
</p>


<h3>Value</h3>

<p>A list containing:
</p>

<ul>
<li> <p><code>loadings</code>: a matrix of the PC loadings.
</p>
</li>
<li> <p><code>pcs</code>: a matrix of the PCs.
</p>
</li>
<li> <p><code>var_explained</code>: the cumulative proportion of variance explained by the PCs.
</p>
</li>
<li> <p><code>contributions</code>: a data frame containing the estimates, confidence
intervals, and p-values of the mediation contributions.
</p>
</li>
<li> <p><code>effects</code>: a data frame containing the estimated direct, global
mediation, and total effects.
</p>
</li>
</ul>
<h3>Source</h3>

<p><a href="https://rdrr.io/github/zhaoyi1026/spcma">https://rdrr.io/github/zhaoyi1026/spcma</a>
</p>


<h3>References</h3>

<p>Huang, Y.-T. &amp; Pan, W.-C. Hypothesis test of mediation effect in
causal mediation model with  high-dimensional continuous mediators.
Biometrics 72, 402-413 (2016).
</p>


<h3>Examples</h3>

<pre><code class="language-R">A &lt;- med_dat$A
M &lt;- med_dat$M
Y &lt;- med_dat$Y
# Fit PCMA with 3 principal components and print the effects. In practice one
# should choose n_pc (or var_per) and the number sims to be larger
out &lt;- mediate_pcma(A, M, Y, n_pc = 3, sims = 10)
out$effects



</code></pre>


</div>