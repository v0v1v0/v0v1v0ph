<div class="container">

<table style="width: 100%;"><tr>
<td>graph.H2x2Factorial</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>H2x2Factorial Plot</h2>

<h3>Description</h3>

<p>The function <code>graph.H2x2Factorial</code> plots the sample size estimations or combinations of mean cluster sizes and cluster numbers
under variable CV for a chosen test. Based on the desired test and power, the function produces a plot with mean cluster size on the x-axis and number of clusters on
the y-axis, with multiple lines representing the dynamic sample size constraints if a vector of CV is specified. The limits of the y-axis
will be automatically adjusted based on the extreme values calculated. A color-blind-friendly palette is set by default but it can be updated by users.
</p>


<h3>Usage</h3>

<pre><code class="language-R">graph.H2x2Factorial(m_lower=10, m_upper=100, m_step=2,
                    CV=c(0,0.3,0.6,0.9),
                    palette=c("#0F2080","#85C0F9","#DDCC77","#F5793A","#A95AA1"),
                    line_width=rep(3,5), line_type=seq(1,5,1), title=NULL,
                    power=0.8, alpha=0.05,
                    pi_x=0.5, pi_z=0.5,
                    delta_x=0.25, delta_z=0.33, delta_xz=0.3, sigma2_y=1, rho=0,
                    estimand="controlled", test="cluster", correction=FALSE,
                    max_n=1e8, seed_mix=NULL, size_mix=1e4,
                    verbose=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m_lower</code></td>
<td>
<p>a numeric value larger than 2 for the lower bound of the mean cluster sizes on the horizontal axis. Default is <code>10</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m_upper</code></td>
<td>
<p>a numeric value larger than <code>m_lower</code> for the upper bound of the mean cluster sizes on the horizontal axis. Default is <code>100</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m_step</code></td>
<td>
<p>a positive numeric value for the step size on the horizontal axis for plotting the sample size combinations. Default is <code>2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CV</code></td>
<td>
<p>a vector of positive numeric values for a series of coefficients of variation of the cluster sizes. The length of CV vector equals the number
of lines presented in the plot, so the CV vector with a length less or equal to 5 is suggested for making a clear-looking graph. Besides, a reasonable magnitude of CV is highly recommended to produce effective plots.
Default is <code>c(0, 0.3, 0.6, 0.9)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>a vector of character values to specify the color choices corresponding to the lines in the plot.
Default is <code>c("#0F2080", "#85C0F9", "#DDCC77", "#F5793A", "#A95AA1")</code>. The order should be matched with the specification of CV and the number of elements should be no less than that for CV vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line_width</code></td>
<td>
<p>a vector of numeric values to specify the widths of the lines in the plot. Default is <code>rep(3, 5)</code>. The order should be matched with the specification of CV and the number of elements should be no less than that for CV vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line_type</code></td>
<td>
<p>a vector of numeric values to specify the line types of the lines in the plot. Default is <code>seq(1, 5, 1)</code>. The order should be matched with the specification of CV and the number of elements should be no less than that for CV vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>a user-defined title or caption for the plot. Default is <code>NULL</code>. By default, a formal test name will be automatically given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>a numeric value between 0 and 1 as the desired power level for sample size estimation. Default is <code>0.8</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>a numeric value between 0 and 1 as the type I error rate. Default is <code>0.05</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi_x</code></td>
<td>
<p>a numeric value between 0 and 1 as the proportion of clusters randomized to the cluster-level treatment. Default is <code>0.5</code>, representing a balanced allocation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi_z</code></td>
<td>
<p>a numeric value between 0 and 1 as the proportion of individuals randomized to the individual-level treatment within each cluster. Default is <code>0.5</code>, representing a balanced allocation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta_x</code></td>
<td>
<p>a nonzero numeric value for the (unstandardized) effect size of the marginal cluster-level treatment effect. Default is <code>0.25</code>, which is the hypothetical value for the example in the referenced paper.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta_z</code></td>
<td>
<p>a nonzero numeric value for the (unstandardized) effect size of the marginal individual-level treatment effect. Default is <code>0.33</code>, which is the hypothetical value for the example in the referenced paper.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta_xz</code></td>
<td>
<p>a nonzero numeric value for the (unstandardized) effect size of the interaction effect of the two treatments. Default is <code>0.3</code>, which is the hypothetical value for the example in the referenced paper.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma2_y</code></td>
<td>
<p>a positive numeric value for the total variance of the continuous outcome. Default is <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>a numeric value between 0 and 1 as the intraclass correlation coefficient characterizing the between-cluster variability. Default is <code>0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimand</code></td>
<td>
<p>a character argument indicating the type of treatment effect estimand. Supported values include <code>"controlled"</code>
(controlled or main effect estimand) and <code>"natural"</code> (natural or marginal effect estimand). Default is <code>"controlled"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>a character argument indicating the type of hypothesis test of interest. Supported values include
<code>"cluster"</code> (test for marginal cluster-level treatment effect), <code>"individual"</code> (test for marginal individual-level treatment effect),
<code>"interaction"</code> (interaction test for the two treatments), <code>"joint"</code> (joint test for the two marginal treatment effects),
<code>"I-U"</code> (intersection-union test for the two marginal effects). Default is <code>"cluster"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correction</code></td>
<td>
<p>a logical argument indicating whether a finite sample correction should be used. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_n</code></td>
<td>
<p>an optional setting of a maximum number of clusters, which is only functional under <code>test="cluster"</code>, <code>"joint"</code>, or <code>"I-U"</code>. Default is <code>1e8</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed_mix</code></td>
<td>
<p>an optional setting of a seed for conducting the simulation-based testing under a mixed distribution, which is only functional under <code>test="joint"</code>. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size_mix</code></td>
<td>
<p>a pre-specified size for the mixed distribution in the simulation-based procedure, which is only needed under <code>test="joint"</code>. Default is <code>1e4</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>a logical argument indicating whether the parameter reiterations and supplementary messages should be presented or suppressed. Default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>graph.H2x2Factorial</code> returns a plot comparing the sample size requirements under different CV, with some suppressible messages.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Make a plot under the test for marginal cluster-level treatment effect
graph.H2x2Factorial(power=0.9, estimand="controlled", test="cluster", rho=0.1, verbose=FALSE)

</code></pre>


</div>