<div class="container">

<table style="width: 100%;"><tr>
<td>intradayJumpTest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Intraday jump tests</h2>

<h3>Description</h3>

<p>This function can be used to  test for jumps in intraday price paths.
</p>
<p>The tests are of the form <code class="reqn">L(t) = (R(t) - mu(t))/sigma(t)</code>.
</p>
<p>See <code>spotVol</code> and <code>spotDrift</code> for Estimators for <code class="reqn">\sigma(t)</code> and <code class="reqn">\mu(t)</code>, respectively.
</p>


<h3>Usage</h3>

<pre><code class="language-R">intradayJumpTest(
  pData,
  volEstimator = "RM",
  driftEstimator = "none",
  alpha = 0.95,
  alignBy = "minutes",
  alignPeriod = 5,
  marketOpen = "09:30:00",
  marketClose = "16:00:00",
  tz = NULL,
  n = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pData</code></td>
<td>
<p><code>xts</code> or <code>data.table</code> of the price data in levels. This data can (and should in some cases) be tick-level data. The data can span more than one day. Should only contain a sinlge <code>SYMBOL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>volEstimator</code></td>
<td>
<p>character denoting which volatility estimator to use for the tests. See <code>spotVol</code>. Default = <code>"RM"</code> denoting realized measures.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>driftEstimator</code></td>
<td>
<p>character denoting which drift estimator to use for the tests. See <code>spotDrift</code>. Default = <code>"none"</code> denoting no drift estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>numeric of length one determining what confidence level to use when constructing the critical values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alignBy</code></td>
<td>
<p>character, indicating the time scale in which <code>alignPeriod</code> is expressed. 
Possible values are: <code>"ticks"</code>, <code>"secs"</code>, <code>"seconds"</code>, <code>"mins"</code>, <code>"minutes"</code>, <code>"hours"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alignPeriod</code></td>
<td>
<p>positive numeric, indicating the number of periods to aggregate over. E.g. to aggregate
based on a 5 minute frequency, set <code>alignPeriod</code> to 5 and <code>alignBy</code> to "minutes".
<code>alignPeriod = 5</code> and <code>alignBy = "minutes"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marketOpen</code></td>
<td>
<p>the market opening time. This should be in the time zone
specified by <code>tz</code>. By default, <code>marketOpen = "09:30:00"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marketClose</code></td>
<td>
<p>the market closing time. This should be in the time zone
specified by <code>tz</code>. By default, <code>marketClose = "16:00:00"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz</code></td>
<td>
<p>fallback time zone used in case we we are unable to identify the timezone of the data, by default: <code>tz = NULL</code>. We attempt to extract the timezone from the DT column (or index) of the data, which may fail. 
In case of failure we use <code>tz</code> if specified, and if it is not specified, we use <code>"UTC"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>number of observation to use in the calculation of the critical values of the test statistic. If this is left as <code>NULL</code> we fall back to the total number of observations in the sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>extra arguments passed on to <code>spotVol</code> for the volatility estimation, and to <code>spotDrift</code>.
</p>
<p>The null hypothesis of the tests in this function is that there are no jumps in the price series</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Emil Sjoerup
</p>


<h3>References</h3>

<p>Christensen, K., Oomen, R. C. A., Podolskij, M. (2014): Fact or Friction: Jumps at ultra high frequency. <em>Journal of Financial Economics</em>, 144, 576-599
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# We can easily make a Lee-Mykland jump test.
LMtest &lt;- intradayJumpTest(pData = sampleTData[, list(DT, PRICE)], 
                           volEstimator = "RM", driftEstimator = "none",
                           RM = "rBPCov", lookBackPeriod = 20,
                           alignBy = "minutes", alignPeriod = 5, marketOpen = "09:30:00", 
                           marketClose = "16:00:00")
plot(LMtest)

# We can just as easily use the pre-averaged version from the "Fact or Friction" paper
FoFtest &lt;- intradayJumpTest(pData = sampleTData[, list(DT, PRICE)], 
                            volEstimator = "PARM", driftEstimator = "none",
                            RM = "rBPCov", lookBackPeriod = 20, theta = 1.2,
                            marketOpen = "09:30:00", marketClose = "16:00:00")
plot(FoFtest)


## End(Not run)
</code></pre>


</div>