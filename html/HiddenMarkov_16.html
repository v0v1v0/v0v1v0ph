<div class="container">

<table style="width: 100%;"><tr>
<td>Change Log</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Changes Made to Package HiddenMarkov</h2>

<h3>Description</h3>

<p>This page contains a listing of recent changes made to the package.
</p>


<h3>Details</h3>


<ol>
<li>
<p> Since we have included different classes of HMMs (see <code>dthmm</code>, <code>mmglm0</code> and <code>mmpp</code>), it is much tidier to use an object orientated approach. This ensures that the functions across all models follow a more consistent naming convention, and also the argument list for the different model functions are more simple and consistent (see <code>HiddenMarkov</code>). (14 Sep 2007)
</p>
</li>
<li>
<p> The main tasks (model fitting, residuals, simulation, Viterbi, etc) can now be called by generic functions (see topic <code>HiddenMarkov</code>). The package documentation has been rearranged so that these generic functions contain the documentation for all model types (e.g. see <code>BaumWelch</code>). (14 Sep 2007)
</p>
</li>
<li>
<p> There are a number of functions, still contained in the package, that are obsolete. This is either because they do not easily fit into the current naming convention used to implement the more object orientated approach, or their argument list is slightly complicated. These functions have been grouped in the topics <code>dthmm.obsolete</code> and <code>mmpp.obsolete</code>. (14 Sep 2007)
</p>
</li>
<li>
<p> There are various <em>second level</em> functions. For example, the model fitting is achieved by the generic <code>BaumWelch</code> function. However, this will call functions to do the E-step, M-step, forward and backward probabilities, and so on. At the moment, these <em>second level</em> functions have not been modified into an object orientated approach. It is not clear at this point whether this would be advantageous. If one went down this route, then one would probably group all of the E-step functions (for all models) under the same topic. If not, then it may be best to group all second level functions for each model under the same topic (e.g. <code>forwardback</code>, <code>probhmm</code> and <code>Estep</code> would be grouped together, being the second level functions for the <code>dthmm</code> model). (14 Sep 2007)
</p>
</li>
<li>
<p> The original function called <code>Viterbi</code> has been renamed to <code>Viterbihmm</code>, and <code>Viterbi</code> is now a generic function. (14 Sep 2007)
</p>
</li>
<li>
<p> Programming code that uses old versions of the functions should still work with this revised version of the package. However, you will get warning messages stating that certain functions are deprecated, and suggesting a possible alternative. To get a quick overview of the programming style, have a look at the examples in topic <code>dthmm</code>. (09 Nov 2007)
</p>
</li>
<li> <p><code>forwardback</code>: <code>for</code> loops replaced by Fortran code; much faster. The corresponding R code is still contained within the function in case the Fortran has incompatibility issues. (23 Nov 2007)
</p>
</li>
<li> <p><code>forwardback.mmpp</code>: <code>for</code> loops replaced by Fortran code. The corresponding R code is still contained within the function in case the Fortran has incompatibility issues. (24 Nov 2007)
</p>
</li>
<li> <p><code>Estep.mmpp</code>: <code>for</code> loops replaced by Fortran code. Cuts time considerably. These loops in R used far more time than the forward and backward equations. The corresponding R code is still contained within the function in case the Fortran has incompatibility issues. (27 Nov 2007)
</p>
</li>
<li> <p><code>forwardback.mmpp</code>, <code>forwardback</code> and <code>Estep.mmpp</code>: argument <code>fortran</code> added. (3 Dec 2007)
</p>
</li>
<li> <p><code>forwardback</code>, <code>forwardback.mmpp</code> and <code>Estep.mmpp</code>: inclusion of all variable sized arrays in the Fortran subroutine call to be compatible with non gfortran compilers (3 Dec 2007); more added for calls to Fortran subroutines <code>multi1</code> and <code>multi2</code>. (6 Dec 2007)
</p>
</li>
<li> <p><code>Estep.mmpp</code>: error in Fortran code of loop 6; <code>j1=0</code> to <code>j1=1</code>. (5 Dec 2007)
</p>
</li>
<li> <p><code>BaumWelch.mmpp</code>: <code>if (diff &lt; 0) stop ...</code> to <code>if (diff &lt; 0 &amp; control$posdiff) stop ...</code>, consistent with <code>BaumWelch.dthmm</code>. (11 Dec 2007)
</p>
</li>
<li> <p><code>logLik.dthmm</code>, <code>logLik.mmglm0</code>, <code>logLik.mmpp</code>: <code>for</code> loop replaced by Fortran code. (15 Feb 2008)
</p>
</li>
<li> <p><code>dthmm</code>: argument <code>discrete</code> set automatically for known distributions, stops if not set for unknown distributions. (15 Feb 2008)
</p>
</li>
<li> <p><code>neglogLik</code>, <code>Pi2vector</code>, <code>vector2Pi</code>, <code>Q2vector</code>, <code>vector2Q</code>: new functions providing an alternative means of calculating maximum likelihood parameter estimates. (18 Feb 2008)
</p>
</li>
<li> <p><code>dthmm</code>: argument <code>nonstat</code> was not set correctly. (21 Jun 2008)
</p>
</li>
<li>
<p> Hyperlinks on package vignettes page. (22 Jun 2008)
</p>
</li>
<li> <p><code>mmpp</code>: argument <code>nonstat</code> was not set correctly. (23 Jun 2008)
</p>
</li>
<li>
<p> The manual pages <code>HiddenMarkov-dthmm-deprecated</code> and <code>HiddenMarkov-mmpp-deprecated</code> have been given a keyword of “internal”. This hides them from the listing of package functions. (3 Jul 2008)
</p>
</li>
<li>
<p> All cited references are now only listed in the topic <code>HiddenMarkov</code>. (3 Jul 2008)
</p>
</li>
<li> <p><code>neglogLik</code>: argument <code>updatep</code> has been renamed to <code>pmap</code>. (9 Jul 2008)
</p>
</li>
<li> <p><code>neglogLik</code>: format of this function changed to be consistent with that in package <span class="pkg">PtProcess</span>. Argument <code>p</code> renamed as <code>params</code>. (07 Aug 2008)
</p>
</li>
<li> <p><code>mmglm0</code>: remove some LaTeX specific formatting to be compatible with <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 2.9.0. (26 Jan 2009)
</p>
</li>
<li> <p><code>Viterbi</code>: Correct hyperlink to base function <code>which.max</code>. (10 Oct 2009)
</p>
</li>
<li>
<p> Tidied HTML representation of equations in manual pages. (15 Dec 2009)
</p>
</li>
<li> <p><code>mmglm</code>: Renamed to <code>mmglm0</code>, new version <code>mmglm1</code>. See manual page for more details. (5 Jan 2010)
</p>
</li>
<li> <p><code>mmglmlong1</code>: new function for longitudinal data. (18 Jan 2010)
</p>
</li>
<li> <p><code>dthmm</code>: clarify argument <code>distn</code> on manual page, and nature of parameter estimates when the Markov chain is stationary. (04 Feb 2010)
</p>
</li>
<li> <p><code>BaumWelch.mmglmlong1</code>: new argument <code>tmpfile</code> added. (13 Feb 2010)
</p>
</li>
<li> <p><code>Viterbi</code>: Methods added for objects of class <code>"mmglm1"</code> and <code>"mmglmlong1"</code>. (29 Jul 2010)
</p>
</li>
<li> <p><code>logLik</code>: Method added for object of class <code>"mmglmlong1"</code>. (30 Jul 2010)
</p>
</li>
<li> <p><code>forwardback.dthmm</code>, <code>forwardback.mmpp</code>: New argument <code>"fwd.only"</code>. (30 Jul 2010)
</p>
</li>
<li> <p><code>logLik.dthmm</code>: Calls <code>forwardback.dthmm</code> to perform calculations. (30 Jul 2010)
</p>
</li>
<li> <p><code>logLik.mmpp</code>: Calls <code>forwardback.mmpp</code> to perform calculations. (30 Jul 2010)
</p>
</li>
<li> <p><code>Viterbi</code>: Now generates an error message when applied to objects of class <code>"mmpp"</code>. Method not currently available. (03 Aug 2010)
</p>
</li>
<li> <p><code>"Viterbi.mmglm1"</code>: Fixed bug with number of Bernoulli trials specification when using a binomial family. (05 Aug 2010)
</p>
</li>
<li> <p><code>residuals.dthmm</code>, <code>probhmm</code>: Modify for greater efficiency and generality to accommodate more general models. Arguments of <code>probhmm</code> have also been changed. (05 Aug 2010)
</p>
</li>
<li> <p><code>residualshmm</code>: Made defunct, incompatible with revised <code>probhmm</code>. (05 Aug 2010)
</p>
</li>
<li> <p><code>residuals</code>: Methods added for objects of class <code>"mmglm1"</code> and <code>"mmglmlong1"</code>. Generates an error message when applied to objects of class <code>"mmpp"</code>, currently no method available. (05 Aug 2010)
</p>
</li>
<li>
<p> Add CITATION file. (24 Sep 2010)
</p>
</li>
<li> <p><code>makedistn</code>: Change <code>eval(parse(text=paste(x, " list(log=log)))", sep="")))</code> to <br><code>eval(parse(text=paste(x, " list(log.p=log)))", sep="")))</code>. (19 Dec 2010)
</p>
</li>
<li> <p><code>pglm</code>, <code>pmmglm</code>: Change all <code>log</code> arguments to <code>log.p</code>. (19 Dec 2010)
</p>
</li>
<li>
<p> Revise examples in <code>/tests</code> directory. (02 May 2011)
</p>
</li>
<li>
<p> Implement very basic NAMESPACE and remove file <code>/R/zzz.R</code>. (5 Nov 2011)
</p>
</li>
<li>
<p> List functions explicitly in NAMESPACE. (19 Dec 2011)
</p>
</li>
<li> <p><code>mmglm</code> and <code>neglogLik</code>: Restrict the number of iterations in examples on manual pages to minimise time during package checks. (19 Dec 2011)
</p>
</li>
<li> <p><code>modify.func</code>: New function to allow the user to modify package functions in the NAMESPACE set-up. This function violates the CRAN policy as users are not supposed to change the NAMESPACE on such packages. Some examples where it is required to modify package functions will not work, for example, the second example in <code>Mstep</code>. (7 Mar 2012)
</p>
</li>
<li> <p><code>modify.func</code>: Function removed. See the second example in <code>Mstep</code> for a work-around when package functions need to be modified. (14 Apr 2012)
</p>
</li>
<li> <p><code>Mstep</code>: Revised documentation about distribution requirements and ways to include other distributions into the software framework. (14 Apr 2012)
</p>
</li>
<li>
<p> The package <span class="pkg">snow</span> has been superseded by <span class="pkg">parallel</span>, changed where needed. In <code>BaumWelch.mmglmlong1</code> arguments <code>makeSOCKcluster</code> and <code>SNOWcluster</code> renamed to <code>makePSOCKcluster</code> and <code>PSOCKcluster</code>, respectively. Functions <code>dmmglm</code> and <code>pmmglm</code> added to exported namespace (required for parallel processing). (13 Aug 2014)
</p>
</li>
<li> <p><code>BaumWelch.mmglmlong1</code>: Call to <code>clusterApply</code> and <code>clusterExport</code> changed to <code>parallel::clusterApply</code> and <code>parallel::clusterExport</code>, respectively. (25 Sep 2014)
</p>
</li>
<li>
<p> Fix error in <code>inst/CITATION</code> file. (21 Jan 2015)
</p>
</li>
<li>
<p> Added to NAMESPACE: functions imported from <span class="pkg">stats</span>. (06 Jul 2015)
</p>
</li>
<li> <p><code>HiddenMarkov</code>: Add DOI to some references, rename topic to appear first in table of contents. (16 Oct 2015)
</p>
</li>
<li>
<p> Fortran warning: in file <code>src/extract.f</code>, <code>integer</code> definitions should precede <code>double precision</code> definitions. (29 Aug 2016)
</p>
</li>
<li>
<p> Fix NOTES in <code>R CMD check --as-cran</code>: <code>Found no calls to: 'R_registerRoutines',</code> <code>'R_useDynamicSymbols'</code> (17 Jun 2017)
</p>
</li>
<li> <p><code>simulate.mchain</code>: Change <code>if (sum(object$delta)!=1)</code> to <code>if (!isTRUE(all.equal(sum(object$delta), 1)))</code>. (21 Oct 2017)
</p>
</li>
<li> <p><code>simulate.mmpp</code>: Change <code>if (sum(object$delta)!=1)</code> to <code>if (!isTRUE(all.equal(sum(object$delta), 1)))</code>. (27 Oct 2017)
</p>
</li>
<li>
<p> Clarify various points in documentation. (27 Oct 2017)
</p>
</li>
<li> <p><code>HiddenMarkov</code>: Hyperlink update to Harte (2019); others updated to https where possible. (27 Apr 2021)
</p>
</li>
</ol>
<h3>Future Development</h3>


<ol>
<li>
<p> The functions <code>Viterbi</code> and <code>residuals</code> need methods for objects of class <code>mmpp</code>.
</p>
</li>
<li>
<p> A number of the original functions have names that are too general. For example <code>forwardback</code> calculates the forward-backward probabilities, but only for the model <code>dthmm</code>. The corresponding function for the <code>mmpp</code> model is <code>forwardback.mmpp</code>. It would be more consistent to attach to these original functions a <code>dthmm</code> suffix.
</p>
</li>
<li>
<p> The demonstration examples are all for <code>dthmm</code>. Also need some for <code>mmglm1</code>, <code>mmglmlong1</code> and <code>mmpp</code>.
</p>
</li>
</ol>
</div>