<div class="container">

<table style="width: 100%;"><tr>
<td>residVSfitted</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Draw plots of resid ~ y.hat and sqrt(abs(resid)) ~ y.hat
</h2>

<h3>Description</h3>

<p>Draw plots of <code>resid ~ y.hat</code> and <code>sqrt(abs(resid)) ~ y.hat</code>.
This is a pair of <span class="pkg">lattice</span> functions that duplicate the first and third
panels of <code>stats:::plot.lm</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">residVSfitted(linearmodel, groups = (e &gt;= 0), ...)
scaleLocation(linearmodel, groups = (e &gt;= 0), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>linearmodel</code></td>
<td>

<p><code>"lm"</code> object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>

<p>This is the standard <code>groups</code> argument for
<code>xyplot</code>.
The default value is one symbol and color for positive residuals and a
different symbol and color for negative residuals.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Additional arguments to <code>xyplot</code>.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>"trellis"</code> object.
</p>


<h3>Author(s)</h3>

<p>Richard M. Heiberger &lt;rmh@temple.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(fat)
fat.lm &lt;- lm(bodyfat ~ abdomin, data=fat)

A &lt;- residVSfitted(fat.lm, pch=c(25,24),
                   fill=trellis.par.get("superpose.symbol")$col[1:2])
B &lt;- scaleLocation(fat.lm, pch=c(25,24),
                   fill=trellis.par.get("superpose.symbol")$col[1:2])
BA &lt;- c("Scale-Location"=B,
        "Residuals vs Fitted"=update(A, scales=list(y=list(at=-100, alternating=3))),
        layout=c(1,2))
BA

BAu &lt;-
  update(BA,
         ylab=c(B$ylab, A$ylab),
         ylab.right=c(B$ylab.right, A$ylab.right),
         xlab.top=NULL,
         between=list(y=1),
         par.settings=list(layout.widths=list(ylab.right=6))
         )

C &lt;- diagQQ(fat.lm)

D &lt;- diagplot5new(fat.lm)

print(BAu, split=c(1,1,2,1), more=TRUE)

print(update(c("Normal Q-Q"=C), xlab.top=NULL, strip=TRUE),
      ## split=c(2,1,2,2),
      position=c(.5, .54, 1, 1),  ## .54 is function of device and size
      more=TRUE)

print(update(D, xlab.top=NULL,
             strip=strip.custom(factor.levels=D$xlab.top),
             par.strip.text=list(lines=1.3)),
      ## split=c(2,2,2,2),
      position=c(.5, 0, 1, .57),  ## .57 is function of device and size
      more=FALSE)
## the .54 and .57 work nicely with the default quartz window on Mac OS X.
</code></pre>


</div>