<div class="container">

<table style="width: 100%;"><tr>
<td>h_weightedsum</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Weighted sum of time-series</h2>

<h3>Description</h3>

<p>The function only works on the common period of the files without NA values. It
operates weighted sums on one or several time-series. It is also possible to add a constant.
</p>


<h3>Usage</h3>

<pre><code class="language-R">h_weightedsum(files, weights, constant = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>files</code></td>
<td>
<p>List of file names to proceed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>List of weights (must have the same length as files)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constant</code></td>
<td>
<p>Constant to add (default = 0)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For averaging n time-series one can use n weights wit a value of 1/n and constant = 0.
</p>


<h3>Value</h3>

<p>The function returns
+ n hts files with the extracted common period
+ 1 hts file named as the first file of the list
with the prefix w_. The sensor id is automatically set to "weighted".
</p>


<h3>Author(s)</h3>

<p>P. Chevallier - Oct 2017-Oct 2021
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# choose time-series f1, f2, f3
f1 &lt;- "foo1.hts" ; f2 &lt;- "foo2.hts" ; f3 &lt;- "foo3.hts"
# the new f time-series contains records f[i] = f1[i] - (0.5 * f2[i]) + (0.5 * f3[i]) + 5
f &lt;- h_weightedsum(c(f1,f2,f3), c(1,-0.5,0.5)), 5)
# the new f time-series contains records f[i] = (1.12 * f1[i]) + 3
f &lt;- h_weightedsum(f1, 1.12, 3)

## End(Not run)

</code></pre>


</div>