<div class="container">

<table style="width: 100%;"><tr>
<td>ts_census_los_daily_tbl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Time Series - Census and LOS by Day</h2>

<h3>Description</h3>

<p>Sometimes it is important to know what the census was on any given day, or what
the average length of stay is on given day, including for those patients that
are not yet discharged. This can be easily achieved. This will return one
record for every account so the data will still need to be summarized. If there
are multiple entries per day then those records will show up and you will
therefore have multiple entries in the column <code>date</code> in the resulting <code>tibble</code>.
If you want to aggregate from there you should be able to do so easily.
</p>
<p>If you have a record where the <code>.start_date_col</code> is filled in but the corresponding
<code>end_date</code> is null then the end date will be set equal to <code>Sys.Date()</code>
</p>
<p>If a record has a <code>start_date</code> that is <code>NA</code> then it will be discarded.
</p>
<p><strong>This function can take a little bit of time to run while the join comparison runs.</strong>
</p>


<h3>Usage</h3>

<pre><code class="language-R">ts_census_los_daily_tbl(
  .data,
  .keep_nulls_only = FALSE,
  .start_date_col,
  .end_date_col,
  .by_time = "day"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>The data you want to pass to the function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.keep_nulls_only</code></td>
<td>
<p>A boolean that will keep only those records that have
a NULL end date, meaning the patient is still admitted. The default is FALSE which
brings back all records.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.start_date_col</code></td>
<td>
<p>The column containing the start date for the record</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.end_date_col</code></td>
<td>
<p>The column containing the end date for the record.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.by_time</code></td>
<td>
<p>How you want the data presented, defaults to day and should remain
that way unless you need more granular data.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ul>
<li>
<p> Requires a dataset that has at least a start date column and an end date
column
</p>
</li>
<li>
<p> Takes a single boolean parameter
</p>
</li>
</ul>
<h3>Value</h3>

<p>A tibble object
</p>


<h3>Author(s)</h3>

<p>Steven P. Sanderson II, MPH
</p>


<h3>See Also</h3>

<p>Other Data Table Functions: 
<code>category_counts_tbl()</code>,
<code>los_ra_index_summary_tbl()</code>,
<code>named_item_list()</code>,
<code>top_n_tbl()</code>,
<code>ts_signature_tbl()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(healthyR)
library(healthyR.data)
library(dplyr)

df &lt;- healthyR_data

df_tbl &lt;- df %&gt;%
  filter(ip_op_flag == "I") %&gt;%
  select(visit_start_date_time, visit_end_date_time) %&gt;%
  timetk::filter_by_time(.date_var = visit_start_date_time, .start_date = "2020")

ts_census_los_daily_tbl(
   .data              = df_tbl
   , .keep_nulls_only = FALSE
   , .start_date_col  = visit_start_date_time
   , .end_date_col    = visit_end_date_time
)

</code></pre>


</div>