<div class="container">

<table style="width: 100%;"><tr>
<td>stateval_tbl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Table to store state value parameters</h2>

<h3>Description</h3>

<p>Create a table for storing parameter estimates used to simulate costs or
utility in an economic model by treatment strategy, patient, health state, and
(optionally) time interval.
</p>


<h3>Usage</h3>

<pre><code class="language-R">stateval_tbl(
  tbl,
  dist = c("norm", "beta", "gamma", "lnorm", "unif", "fixed", "custom"),
  hesim_data = NULL,
  grp_var = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tbl</code></td>
<td>
<p>A <code>data.frame</code> or <code>data.table</code> for storing parameter
values. See "Details" for specifics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>Probability distribution used to sample parameters for a
probabilistic sensitivity analysis (PSA).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hesim_data</code></td>
<td>
<p>A <code>hesim_data</code> object. This argument is deprecated
and should be passed to <code>create_StateVals.stateval_tbl()</code> instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grp_var</code></td>
<td>
<p>The name of the variable used to group patients.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>tbl</code> is a tabular object containing columns for treatment
strategies (<code>strategy_id</code>), patients (<code>patient_id</code>),
health states (<code>state_id</code>), and/or the start of time intervals
(<code>time_start</code>). The table must contain at least one column
named <code>strategy_id</code>, <code>patient_id</code>, or <code>state_id</code>,
but does not need to contain all of them. Each row denotes a unique
treatment strategy, patient, health state, and/or time interval pair.
<code>tbl</code> may also contain a column with the name specified in <code>grp_var</code>
(rather than <code>patient_id</code>) so that state values are assigned to
groups of patients.
</p>
<p><code>tbl</code> must also contain columns summarizing the state values for each
row, which depend on the probability distribution selected with <code>dist</code>.
Available distributions include the normal (<code>norm</code>), beta (<code>beta</code>),
gamma (<code>gamma</code>), lognormal (<code>lnorm</code>), and uniform (<code>unif</code>)
distributions. In addition, the option <code>fixed</code> can be used if estimates
are known with certainty and <code>custom</code> can be used if
parameter values for a PSA  have been previously
sampled from an arbitrary probability distribution.
The columns in <code>tbl</code> that must be included,
by distribution, are:
</p>

<dl>
<dt>norm</dt>
<dd>
<p><code>mean</code> and <code>sd</code></p>
</dd>
<dt>beta</dt>
<dd>
<p><code>mean</code> and <code>se</code> or <code>shape1</code> and <code>shape2</code></p>
</dd>
<dt>gamma</dt>
<dd>
<p><code>mean</code> and <code>se</code>, <code>shape</code> and <code>rate</code>,
or <code>shape</code> and <code>scale</code></p>
</dd>
<dt>lnorm</dt>
<dd>
<p><code>meanlog</code> or <code>sdlog</code></p>
</dd>
<dt>unif</dt>
<dd>
<p><code>min</code> and <code>max</code></p>
</dd>
<dt>fixed</dt>
<dd>
<p><code>est</code></p>
</dd>
<dt>custom</dt>
<dd>
<p><code>sample</code> and <code>value</code></p>
</dd>
</dl>
<p>Note that if <code>dist = "custom"</code>, then <code>tbl</code> must include a column
named <code>sample</code> (an integer vector denoting a unique random draw) and
<code>value</code> (denoting the value of the randomly sampled parameter). In this case,
there is a unique row in <code>tbl</code> for each random draw (<code>sample</code>) and
each combination of strategies, patients, health states, and/or time intervals.
Again, <code>tbl</code> must contain at least one column
named <code>strategy_id</code>, <code>patient_id</code> (or <code>grp_var</code>), or <code>state_id</code>,
but does not need to contain them all.
</p>


<h3>Value</h3>

<p>An object of class <code>stateval_tbl</code>, which is a <code>data.table</code> of
parameter values with attributes for <code>dist</code> and <code>grp_var</code>.
</p>


<h3>See Also</h3>

<p><code>create_StateVals()</code>, <code>StateVals</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">strategies &lt;- data.frame(strategy_id = c(1, 2))
patients &lt;- data.frame(patient_id = seq(1, 3),
                       grp = c(1, 1, 2),
                       age = c(45, 50, 60),
                       female = c(0, 0, 1))
states &lt;- data.frame(state_id = c(1, 2))
hesim_dat &lt;- hesim_data(strategies = strategies,
                        patients = patients,
                        states = states)

# Utility varies by health state and patient group
utility_tbl &lt;- stateval_tbl(data.frame(state_id = rep(states$state_id, 2),
                                       grp = rep(rep(c(1, 2)), each = nrow(states)), 
                                       mean = c(.8, .7, .75, .55),
                                       se = c(.18, .12, .10, .06)),
                            dist = "beta",
                            grp_var = "grp")
print(utility_tbl)
utilmod &lt;- create_StateVals(utility_tbl, n = 2, hesim_data = hesim_dat)

# Costs vary by treatment strategy
cost_tbl &lt;- stateval_tbl(data.frame(strategy_id = strategies$strategy_id,
                                    mean = c(5000, 3000),
                                    se = c(200, 100)),
                         dist = "gamma")
print(cost_tbl)
costmod &lt;- create_StateVals(cost_tbl, n = 2, hesim_data = hesim_dat)


</code></pre>


</div>