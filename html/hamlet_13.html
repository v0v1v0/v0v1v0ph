<div class="container">

<table style="width: 100%;"><tr>
<td>mem.getcomp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Extract per-observation components for fixed and random effects of a mixed-effects model
</h2>

<h3>Description</h3>

<p>Assuming a mixed-effects model of form y_fit = Xb + Zu + e, where X is the model matrix for fixed effects, Z is the model matrix for random effects, and b and u are the fixed and random effects respectively, this function returns these components per each fitted value y. These may be useful for model inference and/or diagnostic purposes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mem.getcomp(fit)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>

<p>A fitted mixed-effects model generated either through the lme4 or the nlme package.
</p>
</td>
</tr></table>
<h3>Details</h3>

<p>Notice that per-observation model error is e = Xb + Zu - y_observation. Similarly, the components Xb and Zu are extracted.
</p>


<h3>Value</h3>

<p>The function returns per-observation model fit components for a mixed-effects model. The return fields are
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Xb</code></td>
<td>
<p>Fixed effects component Xb</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Zu</code></td>
<td>
<p>Random effects component Zu</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>XbZu</code></td>
<td>
<p>Full model fit by summing the above two Xb+Zu</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e</code></td>
<td>
<p>Model error e</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Original observations y</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Teemu Daniel Laajala &lt;teelaa@utu.fi&gt;
</p>


<h3>See Also</h3>

<p><code>mem.plotran</code>
<code>mem.plotresid</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(vcaplong)

exdat &lt;- vcaplong[vcaplong[,"Group"] %in% c("Vehicle", "ARN"),]

library(lme4)
f1 &lt;- lmer(log2PSA ~ 1 + DrugWeek + DrugWeek:ARN + (1 + DrugWeek|ID), data = exdat)

mem.getcomp(f1)
</code></pre>


</div>