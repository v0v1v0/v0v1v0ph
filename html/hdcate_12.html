<div class="container">

<table style="width: 100%;"><tr>
<td>HDCATE_R6Class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>High-Dimensional Conditional Average Treatment Effects (HDCATE) Estimator</h2>

<h3>Description</h3>

<p>Use a two-step procedure to estimate the conditional average treatment effects (CATE) for all possible values of the covariate(s).
</p>


<h3>Format</h3>

<p>R6::R6Class object.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-HDCATE-new"><code>HDCATE_R6Class$new()</code></a>
</p>
</li>
<li> <p><a href="#method-HDCATE-propensity_hd_estimate"><code>HDCATE_R6Class$propensity_hd_estimate()</code></a>
</p>
</li>
<li> <p><a href="#method-HDCATE-conditional_expectations_hd_estimate"><code>HDCATE_R6Class$conditional_expectations_hd_estimate()</code></a>
</p>
</li>
<li> <p><a href="#method-HDCATE-first_stage"><code>HDCATE_R6Class$first_stage()</code></a>
</p>
</li>
<li> <p><a href="#method-HDCATE-second_stage"><code>HDCATE_R6Class$second_stage()</code></a>
</p>
</li>
<li> <p><a href="#method-HDCATE-get_bw"><code>HDCATE_R6Class$get_bw()</code></a>
</p>
</li>
<li> <p><a href="#method-HDCATE-fit"><code>HDCATE_R6Class$fit()</code></a>
</p>
</li>
<li> <p><a href="#method-HDCATE-inference"><code>HDCATE_R6Class$inference()</code></a>
</p>
</li>
<li> <p><a href="#method-HDCATE-plot"><code>HDCATE_R6Class$plot()</code></a>
</p>
</li>
<li> <p><a href="#method-HDCATE-get_confidence_bands"><code>HDCATE_R6Class$get_confidence_bands()</code></a>
</p>
</li>
<li> <p><a href="#method-HDCATE-draw_weights"><code>HDCATE_R6Class$draw_weights()</code></a>
</p>
</li>
<li> <p><a href="#method-HDCATE-set_condition_var"><code>HDCATE_R6Class$set_condition_var()</code></a>
</p>
</li>
<li> <p><a href="#method-HDCATE-clone"><code>HDCATE_R6Class$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-HDCATE-new"></a>



<h4>Method <code>new()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>HDCATE_R6Class$new(data, y_name, d_name, x_formula)</pre></div>


<hr>
<a id="method-HDCATE-propensity_hd_estimate"></a>



<h4>Method <code>propensity_hd_estimate()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>HDCATE_R6Class$propensity_hd_estimate(data = NA, verbose = F)</pre></div>


<hr>
<a id="method-HDCATE-conditional_expectations_hd_estimate"></a>



<h4>Method <code>conditional_expectations_hd_estimate()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>HDCATE_R6Class$conditional_expectations_hd_estimate(data = NA, verbose = F)</pre></div>


<hr>
<a id="method-HDCATE-first_stage"></a>



<h4>Method <code>first_stage()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>HDCATE_R6Class$first_stage(data = NA, verbose = F)</pre></div>


<hr>
<a id="method-HDCATE-second_stage"></a>



<h4>Method <code>second_stage()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>HDCATE_R6Class$second_stage(
  predictor_eta_hat = NA,
  eta_hat = NA,
  subsample_idx = NULL,
  local_weight = NULL,
  estimate_std = TRUE,
  verbose = FALSE,
  save_model = TRUE
)</pre></div>


<hr>
<a id="method-HDCATE-get_bw"></a>



<h4>Method <code>get_bw()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>HDCATE_R6Class$get_bw(phi, use_sample_idx)</pre></div>


<hr>
<a id="method-HDCATE-fit"></a>



<h4>Method <code>fit()</code>
</h4>

<p>Fit the HDCATE function
</p>


<h5>Usage</h5>

<div class="r"><pre>HDCATE_R6Class$fit(verbose = FALSE)</pre></div>



<h5>Returns</h5>

<p>estimated HDCATE
</p>


<hr>
<a id="method-HDCATE-inference"></a>



<h4>Method <code>inference()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>HDCATE_R6Class$inference(
  sig_level = 0.01,
  boot_method = "normal",
  n_rep_boot = 1000,
  verbose = FALSE
)</pre></div>


<hr>
<a id="method-HDCATE-plot"></a>



<h4>Method <code>plot()</code>
</h4>

<p>Plot the results.
</p>


<h5>Usage</h5>

<div class="r"><pre>HDCATE_R6Class$plot(
  output_pdf = FALSE,
  pdf_name = "hdcate_plot.pdf",
  include_band = TRUE,
  test_side = "both",
  y_axis_min = "auto",
  y_axis_max = "auto",
  display.hdcate = "HDCATEF",
  display.ate = "ATE",
  display.siglevel = "sig_level"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>output_pdf</code></dt>
<dd>
<p>if <code>TRUE</code>, save image to a pdf file named as <code>pdf_name</code></p>
</dd>
<dt><code>pdf_name</code></dt>
<dd>
<p>the name of the output PDF file</p>
</dd>
<dt><code>include_band</code></dt>
<dd>
<p>if <code>TRUE</code>, plot uniform confidence bands as well.</p>
</dd>
<dt><code>test_side</code></dt>
<dd>
<p><code>'both'</code> for a 2-sided test, <code>'left'</code> for a left-sided test or <code>'right'</code> for a right-sided test</p>
</dd>
<dt><code>y_axis_min</code></dt>
<dd>
<p>the lowest value plotted in Y axis, the default is <code>'auto'</code></p>
</dd>
<dt><code>y_axis_max</code></dt>
<dd>
<p>the largest value plotted in Y axis, the default is <code>'auto'</code></p>
</dd>
<dt><code>display.hdcate</code></dt>
<dd>
<p>the name of HDCATE function in the legend, the default is 'HDCATEF'</p>
</dd>
<dt><code>display.ate</code></dt>
<dd>
<p>the name of average treatment effect in the legend, the default is 'ATE'</p>
</dd>
<dt><code>display.siglevel</code></dt>
<dd>
<p>the name of the significant level for confidence bands in the legend, the default is 'sig_level'</p>
</dd>
</dl>
</div>


<hr>
<a id="method-HDCATE-get_confidence_bands"></a>



<h4>Method <code>get_confidence_bands()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>HDCATE_R6Class$get_confidence_bands(test_side = "both")</pre></div>


<hr>
<a id="method-HDCATE-draw_weights"></a>



<h4>Method <code>draw_weights()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>HDCATE_R6Class$draw_weights(method, n_rep_boot, n_obs)</pre></div>


<hr>
<a id="method-HDCATE-set_condition_var"></a>



<h4>Method <code>set_condition_var()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>HDCATE_R6Class$set_condition_var(name = NA, min = NA, max = NA, step = NA)</pre></div>


<hr>
<a id="method-HDCATE-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>HDCATE_R6Class$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




</div>