<div class="container">

<table style="width: 100%;"><tr>
<td>plotTrainTest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot predictions for both a I/II train/test split, and the reverse</h2>

<h3>Description</h3>

<p>A division of data is specified, for use of linear discriminant analysis,
into a training and test set. Feature selection and model fitting is
formed, first with I/II as training/test, then with II/I as training/test.
Two graphs are plotted â€“ for the I (training) /II (test) scores, and for
the II/I scores.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotTrainTest(x, nfeatures, cl, traintest,
              titles = c("A: I/II (train with I, scores are for II)",
                         "B: II/I (train with II, scores are for I)"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Matrix; rows are features, and columns are observations
('samples')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfeatures</code></td>
<td>
<p>integer: numbers of features for which calculations are
required</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl</code></td>
<td>
<p>Factor that classifies columns into groups that will classify
the data for purposes of discriminant calculations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>traintest</code></td>
<td>
<p>Values that specify a division of observations into
two groups. In the first pass (fold), one to be training and the other test,
with the roles then reversed in a second pass or fold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>titles</code></td>
<td>
<p>A character vector of length 2 giving titles for the two graphs</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Two graphs are plotted.
</p>


<h3>Author(s)</h3>

<p>John Maindonald</p>


<h3>Examples</h3>

<pre><code class="language-R">mat &lt;- matrix(rnorm(1000), ncol=20)
cl &lt;- factor(rep(1:3, c(7,9,4)))
gp.id &lt;- divideUp(cl, nset=2)
plotTrainTest(x=mat, cl=cl, traintest=gp.id, nfeatures=c(2,3))



## The function is currently defined as
function(x, nfeatures, cl, traintest,
           titles=c("A: I/II (train with I, scores are for II)",
             "B: II/I (train with II, scores are for I)")){
    oldpar &lt;- par(mfrow=c(1,2), pty="s")
    on.exit(par(oldpar))
    if(length(nfeatures)==1)nfeatures &lt;- rep(nfeatures,2)
    traintest &lt;- factor(traintest)
    train &lt;- traintest==levels(traintest)[1]
    testset &lt;- traintest==levels(traintest)[2]
    cl1 &lt;- cl[train]
    cl2 &lt;- cl[testset]
    nf1 &lt;- nfeatures[1]
    ord1 &lt;- orderFeatures(x, cl, subset=train)
    df1 &lt;- data.frame(t(x[ord1[1:nf1], train]))
    df2 &lt;- data.frame(t(x[ord1[1:nf1], testset]))
    df1.lda &lt;- lda(df1, cl1)
    scores &lt;- predict(df1.lda, newdata=df2)$x
    scoreplot(scorelist=list(scores=scores, cl=cl2,
             nfeatures=nfeatures[1], other=NULL, cl.other=NULL),
           prefix.title="")
    mtext(side=3, line=2, titles[1], adj=0)
    nf2 &lt;- nfeatures[2]
    ord2 &lt;- orderFeatures(x, cl, subset=testset)
    df2 &lt;- data.frame(t(x[ord2[1:nf2], testset]))
    df1 &lt;- data.frame(t(x[ord2[1:nf2], train]))
    df2.lda &lt;- lda(df2, cl2)
    scores &lt;- predict(df2.lda, newdata=df1)$x
    scoreplot(scorelist=list(scores=scores, cl=cl1,
             nfeatures=nfeatures[2], other=NULL, cl.other=NULL),
           prefix.title="")
    mtext(side=3, line=2, titles[2], adj=0)
  }

</code></pre>


</div>