<div class="container">

<table style="width: 100%;"><tr>
<td>rKernelCov</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Realized kernel estimator</h2>

<h3>Description</h3>

<p>Realized covariance calculation using a kernel estimator. 
The different types of kernels available can be found using <code>listAvailableKernels</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rKernelCov(
  rData,
  cor = FALSE,
  alignBy = NULL,
  alignPeriod = NULL,
  makeReturns = FALSE,
  kernelType = "rectangular",
  kernelParam = 1,
  kernelDOFadj = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rData</code></td>
<td>
<p>an <code>xts</code> or <code>data.table</code> object containing returns or prices, possibly for multiple assets over multiple days</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor</code></td>
<td>
<p>boolean, in case it is <code>TRUE</code>, and the input data is multivariate, the correlation is returned instead of the covariance matrix. 
<code>FALSE</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alignBy</code></td>
<td>
<p>character, indicating the time scale in which <code>alignPeriod</code> is expressed. 
Possible values are: <code>"ticks"</code>, <code>"secs"</code>, <code>"seconds"</code>, <code>"mins"</code>, <code>"minutes"</code>, <code>"hours"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alignPeriod</code></td>
<td>
<p>positive numeric, indicating the number of periods to aggregate over. 
For example, to aggregate based on a 5-minute frequency, set <code>alignPeriod</code> to 5 and <code>alignBy</code> to <code>"minutes"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>makeReturns</code></td>
<td>
<p>boolean, should be <code>TRUE</code> when <code>rData</code> contains prices instead of returns. <code>FALSE</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernelType</code></td>
<td>
<p>Kernel name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernelParam</code></td>
<td>
<p>Kernel parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernelDOFadj</code></td>
<td>
<p>Kernel degree of freedom adjustment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>used internally, do not change.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Let <code class="reqn">r_{t,i}</code> be <code class="reqn">N</code> returns in period <code class="reqn">t</code>, <code class="reqn">i = 1, \ldots, N</code>. The returns or prices 
do not have to be equidistant. The kernel estimator for <code class="reqn">H = \code{kernelParam}</code> is given by
</p>
<p style="text-align: center;"><code class="reqn">
\gamma_0 + 2 \sum_{h = 1}^H k \left(\frac{h-1}{H}\right) \gamma_h,
</code>
</p>

<p>where <code class="reqn">k(x)</code> is the chosen kernel function and 
</p>
<p style="text-align: center;"><code class="reqn">
\gamma_h = \sum_{i = h}^N r_{t,i} \times r_{t,i-h}
</code>
</p>

<p>is the empirical autocovariance function. The multivariate version employs the cross-covariances instead.
</p>


<h3>Value</h3>

<p>in case the input is and contains data from one day, an <code class="reqn">N</code> by <code class="reqn">N</code> matrix is returned. 
If the data is a univariate <code>xts</code> object with multiple days, an <code>xts</code> is returned.
If the data is multivariate and contains multiple days (<code>xts</code> or <code>data.table</code>), the function returns a list containing <code class="reqn">N</code> by <code class="reqn">N</code> matrices. 
Each item in the list has a name which corresponds to the date for the matrix.
</p>


<h3>Author(s)</h3>

<p>Scott Payseur, Onno Kleen, and Emil Sjoerup.
</p>


<h3>References</h3>

<p>Barndorff-Nielsen, O. E., Hansen, P. R., Lunde, A., and Shephard, N. (2008). Designing realized kernels to measure the ex post variation of equity prices in the presence of noise. <em>Econometrica</em>, 76, 1481-1536.
</p>
<p>Hansen, P. and Lunde, A. (2006). Realized variance and market microstructure noise. <em>Journal of Business and Economic Statistics</em>, 24, 127-218.
</p>
<p>Zhou., B. (1996). High-frequency data and volatility in foreign-exchange rates. <em>Journal of Business &amp; Economic Statistics</em>, 14, 45-52.
</p>


<h3>See Also</h3>

<p><code>ICov</code> for a list of implemented estimators of the integrated covariance.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Univariate:
rvKernel &lt;- rKernelCov(rData = sampleTData[, list(DT, PRICE)], alignBy = "minutes",
                       alignPeriod = 5, makeReturns = TRUE)
rvKernel

# Multivariate:
rcKernel &lt;- rKernelCov(rData = sampleOneMinuteData, makeReturns = TRUE)
rcKernel
</code></pre>


</div>