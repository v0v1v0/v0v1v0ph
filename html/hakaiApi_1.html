<div class="container">

<table style="width: 100%;"><tr>
<td>Client</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The Hakai API Client Class</h2>

<h3>Description</h3>

<p>Class to use to make authenticated API requests for Hakai data
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>api_root</code></dt>
<dd>
<p>The api_root you are logged in to</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-new"><code>Client$new()</code></a>
</p>
</li>
<li> <p><a href="#method-get"><code>Client$get()</code></a>
</p>
</li>
<li> <p><a href="#method-remove_credentials"><code>Client$remove_credentials()</code></a>
</p>
</li>
<li> <p><a href="#method-clone"><code>Client$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Log into Google to gain credential access to the API
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$new(
  api_root = "https://hecate.hakai.org/api",
  login_page = "https://hecate.hakai.org/api-client-login"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>api_root</code></dt>
<dd>
<p>Optional API base url to fetch data.
Defaults to "https://hecate.hakai.org/api"</p>
</dd>
<dt><code>login_page</code></dt>
<dd>
<p>Optional API login page url to display to user.
Defaults to "https://hecate.hakai.org/api-client-login"</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A client instance
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>client &lt;- Client$new()
</pre>
</div>


<hr>
<a id="method-get"></a>



<h4>Method <code>get()</code>
</h4>

<p>Send a GET request to the API
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$get(endpoint_url)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>endpoint_url</code></dt>
<dd>
<p>The full API url to fetch data from</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A dataframe of the requested data
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>client$get("https://hecate.hakai.org/api/aco/views/projects")
</pre>
</div>


<hr>
<a id="method-remove_credentials"></a>



<h4>Method <code>remove_credentials()</code>
</h4>

<p>Remove your cached login credentials to logout of the client
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$remove_credentials()</pre></div>



<h5>Examples</h5>

<div class="r example copy">
<pre>client$remove_credentials()
</pre>
</div>


<hr>
<a id="method-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R"># Initialize a new client
client &lt;- Client$new()
# Follow authorization prompts to log in

# Retrieve some data. See &lt;https://hakaiinstitute.github.io/hakai-api/&gt; for options.
url &lt;- paste0(client$api_root, "/aco/views/projects?project_year=2020&amp;fields=project_name")
projects_2020 &lt;- client$get(url)

print(projects_2020)
# # A tibble: 20 x 1
#    project_name
#    &lt;chr&gt;
#  1 Fountain FN
#  2 Haig Glacier
#  3 Fraser River - Chimney Creek West William Canyon
#  4 Cruickshank WS
#  ...

## ------------------------------------------------
## Method `Client$new`
## ------------------------------------------------

client &lt;- Client$new()

## ------------------------------------------------
## Method `Client$get`
## ------------------------------------------------

client$get("https://hecate.hakai.org/api/aco/views/projects")

## ------------------------------------------------
## Method `Client$remove_credentials`
## ------------------------------------------------

client$remove_credentials()
</code></pre>


</div>