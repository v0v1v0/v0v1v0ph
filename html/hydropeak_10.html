<div class="container">

<table style="width: 100%;"><tr>
<td>get_events_file</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Flow Fluctuation Events and Metrics from Input File</h2>

<h3>Description</h3>

<p>Given a file path it reads a data frame (time series) of stage
measurements and calls <code>get_events()</code>.
The resulting events can be optionally written to a single file or to
separate files for each gauging station ID (<code>ID</code>) and <code>Event_Type</code>.
Files which produce errors return <code>NULL</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_events_file(
  Q_file,
  inputsep = ";",
  inputdec = ".",
  save = FALSE,
  split = TRUE,
  outdir = file.path(tempdir(), "Events"),
  mc.cores = 2L,
  return = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Q_file</code></td>
<td>
<p>A character string containing the name of the file which the data
are to be read from with <code>utils::read.csv()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inputsep</code></td>
<td>
<p>Field separator character string for input data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inputdec</code></td>
<td>
<p>Character string for decimal points in input data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save</code></td>
<td>
<p>A logical. If <code>FALSE</code> (default) events (results from
<code>get_events()</code>) are not written to file(s),
otherwise events are written to <code>outdir</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split</code></td>
<td>
<p>A logical. If <code>TRUE</code> (default) output files are separated by
their gauging station ID (<code>ID</code>) and by <code>Event_Type</code>, otherwise
all events are written to a single file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outdir</code></td>
<td>
<p>A character string naming a directory where the output file(s)
should be written to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mc.cores</code></td>
<td>
<p>Number of cores to use with
<code>parallel::mclapply()</code>. On Windows, this
will be set to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return</code></td>
<td>
<p>A logical. If <code>TRUE</code> (default) it returns the resulting
data frame or list of data frames. Otherwise it returns <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed to <code>get_events()</code>
and further to <code>flow()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame which contains for every increase or decrease event in a
given time series all metrics (<code>all_metrics()</code>),
gauging station ID, event type, and starting time of an event.
Included metrics are <code>amp()</code>, <code>mafr()</code>,
<code>mefr()</code>, <code>dur()</code>, <code>ratio()</code>.
The returned data frame is not split. Returns <code>NULL</code>, if argument
<code>return</code> is set to <code>FALSE</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">Q_file &lt;- system.file("extdata", "Q.csv", package = "hydropeak")
# save to tempdir()
events &lt;- get_events_file(Q_file, inputsep = ",", inputdec = ".",
save = TRUE, split = TRUE, return = TRUE)
</code></pre>


</div>