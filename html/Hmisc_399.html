<div class="container">

<table style="width: 100%;"><tr>
<td>princmp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>princmp</h2>

<h3>Description</h3>

<p>Enhanced Output for Principal and Sparse Principal Components
</p>


<h3>Usage</h3>

<pre><code class="language-R">princmp(
  formula,
  data = environment(formula),
  method = c("regular", "sparse"),
  k = min(5, p - 1),
  kapprox = min(5, k),
  cor = TRUE,
  sw = FALSE,
  nvmax = 5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula with no left hand side, or a numeric matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame or table.  By default variables come from the calling environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>specifies whether to use regular or sparse principal components are computed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>the number of components to plot, display, and return</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kapprox</code></td>
<td>
<p>the number of components to approximate with stepwise regression when <code>sw=TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor</code></td>
<td>
<p>set to <code>FALSE</code> to compute PCs on the original data scale, which is useful if all variables have the same units of measurement</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sw</code></td>
<td>
<p>set to <code>TRUE</code> to run stepwise regression PC prediction/approximation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nvmax</code></td>
<td>
<p>maximum number of predictors to allow in stepwise regression PC approximations</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Expands any categorical predictors into indicator variables, and calls <code>princomp</code> (if <code>method='regular'</code> (the default)) or <code>sPCAgrid</code> in the <code>pcaPP</code> package (<code>method='sparse'</code>) to compute lasso-penalized sparse principal components.  By default all variables are first scaled by their standard deviation after observations with any <code>NA</code>s on any variables in <code>formula</code> are removed.  Loadings of standardized variables, and if <code>orig=TRUE</code> loadings on the original data scale are printed.  If <code>pl=TRUE</code> a scree plot is drawn with text added to indicate cumulative proportions of variance explained.  If <code>sw=TRUE</code>, the <code>leaps</code> package <code>regsubsets</code> function is used to approximate the PCs using forward stepwise regression with the original variables as individual predictors.
</p>
<p>A <code>print</code> method prints the results and a <code>plot</code> method plots the scree plot of variance explained.
</p>


<h3>Value</h3>

<p>a list of class <code>princmp</code> with elements <code>scores</code>, a k-column matrix with principal component scores, with <code>NA</code>s when the input data had an <code>NA</code>, and other components useful for printing and plotting.  If <code>k=1</code> <code>scores</code> is a vector.  Other components include <code>vars</code> (vector of variances explained), <code>method</code>, <code>k</code>.
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


</div>