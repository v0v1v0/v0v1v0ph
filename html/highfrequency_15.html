<div class="container">

<table style="width: 100%;"><tr>
<td>gatherPrices</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make TAQ format</h2>

<h3>Description</h3>

<p>Convenience function to gather data from one <code>xts</code> or <code>data.table</code> 
with at least <code>"DT"</code>, and d columns containing price data to a <code>"DT"</code>, <code>"SYMBOL"</code>, and <code>"PRICE"</code>
column. This function the opposite of <code>spreadPrices</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gatherPrices(data)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An <code>xts</code> or a <code>data.table</code> object with at least <code>"DT"</code> and d columns with price data with their names corresponding to the respective symbols.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>a <code>data.table</code> with columns <code>DT</code>, <code>SYMBOL</code>, and <code>PRICE</code>
</p>


<h3>Author(s)</h3>

<p>Emil Sjoerup
</p>


<h3>See Also</h3>

<p><code>spreadPrices</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(data.table)
data1 &lt;- copy(sampleTData)[,  `:=`(PRICE = PRICE * runif(.N, min = 0.99, max = 1.01),
                                               DT = DT + runif(.N, 0.01, 0.02))]
data2 &lt;- copy(sampleTData)[, SYMBOL := 'XYZ']
dat1 &lt;- rbind(data1[, list(DT, SYMBOL, PRICE)], data2[, list(DT, SYMBOL, PRICE)])
setkeyv(dat1, c("DT", "SYMBOL"))
dat1
dat &lt;- spreadPrices(dat1) # Easy to use for realized measures
dat
dat &lt;- gatherPrices(dat)
dat
all.equal(dat1, dat) # We have changed to RM format and back.

## End(Not run)
</code></pre>


</div>