<div class="container">

<table style="width: 100%;"><tr>
<td>flood2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to compute flood extent or flood duration <code>SpatRaster</code>
along the German federal waterways Elbe and Rhine using the 1d water level
algorithm <code>hyd1d::waterLevelFlood2()</code>
</h2>

<h3>Description</h3>

<p>Computes flood extent, if <code>length(seq)</code> equals 1, or flood
duration for the active floodplains along the German federal waterways Elbe
and Rhine based on 1d water levels computed by
<code>waterLevelFlood2</code> provided by package <span class="pkg">hyd1d</span> in
analogy to the INFORM 3 module 'Flut2'.
</p>


<h3>Usage</h3>

<pre><code class="language-R">flood2(x, seq, filename = "", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>has to by type <code>SpatRaster</code> and has to include both input
layers <code>csa</code> (cross section areas) and <code>dem</code> (digital
elevation model). To compute water levels along the River Elbe, <code>x</code>
has to be in the coordinate reference system
<a href="https://spatialreference.org/ref/epsg/25833/">ETRS 1989 UTM 33N</a>,
for the River Rhine in
<a href="https://spatialreference.org/ref/epsg/25832/">ETRS 1989 UTM 32N</a>.
Other coordinate reference systems are not permitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seq</code></td>
<td>
<p>has to be type <code>c("POSIXct", "POSIXt")</code> or <code>Date</code> and
have a length larger than 0. Values of <code>seq</code> must be in the
temporal range between 1960-01-01 and yesterday (<code>Sys.Date() - 1</code>).
Internally <code>waterLevelFlood2()</code> uses
<code>getGaugingDataW</code> to obtain daily water level
information from <code>df.gauging_data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>supplies an optional output filename and has to be type
<code>character</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments as for <code>writeRaster</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For every time step provided in <code>seq</code>, <code>flood2()</code> computes
a 1d water level using <code>waterLevelFlood2</code> along the
requested river section. This 1d water level is transfered to a <code>wl</code>
(water level) raster layer, which is in fact a copy of the <code>csa</code>
(cross section areas) layer, and then compared to the <code>dem</code>
(digital elevation model) layer. Where the <code>wl</code> layer is
higher than the <code>dem</code>, layer flood duration is increased by 1.
</p>


<h3>Value</h3>

<p><code>SpatRaster</code> object with flood duration in the range of
<code>[0, length(seq)]</code>.
</p>


<h3>References</h3>

<p>Rosenzweig S, Giebel H, Schleuter M (2011).
“Ökologische Modellierungen für die Wasser- und Schifffahrtsverwaltung – Das integrierte Flussauenmodell INFORM in seiner neuesten Fassung (Version 3). Bundesanstalt für Gewässerkunde, Koblenz, Germany.”
<a href="https://doi.org/10.5675/bfg-1667">doi:10.5675/bfg-1667</a>.
</p>


<h3>See Also</h3>

<p><code>df.gauging_data</code>,
<code>getGaugingDataW</code>,
<code>waterLevelFlood2</code>,
<code>writeRaster</code>,
<code>terraOptions</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
  options("hydflood.datadir" = tempdir())
  library(hydflood)
  
  # import the raster data and create a raster stack
  c &lt;- st_crs("EPSG:25833")
  e &lt;- ext(309000, 310000, 5749000, 5750000)
  x &lt;- hydSpatRaster(ext = e, crs = c)
  
  # create a temporal sequence
  seq &lt;- seq(as.Date("2016-12-01"), as.Date("2016-12-31"), by = "day")
  
  # compute a flood duration
  fd &lt;- flood2(x = x, seq = seq)


</code></pre>


</div>