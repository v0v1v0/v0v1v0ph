<div class="container">

<table style="width: 100%;"><tr>
<td>affinity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Affinity Calculation.</h2>

<h3>Description</h3>

<p>Calculates affinity based on Cranmer and Gill (2013). The function performs the original method (as described in the article) and also
a method that takes into account the correlation structure of the observed data that increases efficiency in making matches.
Affinity is calculated by first identifying whether two observations are sufficiently ‘close’ on each variable.  Consider the target observation number 1.
If observation <em>i</em> is close to the target observation on variable <em>j</em>, then <code>A[i,j] = 1</code> otherwise, it equals zero.
Close for two discrete variables is defined by them taking on the same value.  Close for continuous variables is taking on a distance no greater than 1 from each other.
While this may seem restrictive and arbitrary, arguments exist in the main package function <code>hot.deck</code> that allows the user to set how many standard deviations equal a distance of 1 (with the <code>cutoffSD</code> argument.
</p>


<h3>Usage</h3>

<pre><code class="language-R">affinity(data, index, column = NULL, R = NULL, weighted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame or matrix of values for which affinity should be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>A row number identifying the target observation.  Affinity will be calculated between this observation and all others in the dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column</code></td>
<td>
<p>A column number identifying the variable with missing information.  This is only needed for the optional correlation-weighted affinity score. The correlation that is used is the correlation of all variables with the focus variable (i.e., the column).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>A correlation matrix for <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighted</code></td>
<td>
<p>Logical indicating whether or not the correlation-weighted affinity measure should be used.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A number of missing observation-variable combinations-by-number of observations in data matrix of affinity scores.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(D)
out &lt;- hot.deck(D)

</code></pre>


</div>