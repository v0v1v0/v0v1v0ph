<div class="container">

<table style="width: 100%;"><tr>
<td>HospiNet</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class providing the HospiNet object with its methods</h2>

<h3>Description</h3>

<p>Class providing the HospiNet object with its methods
</p>
<p>Class providing the HospiNet object with its methods
</p>


<h3>Format</h3>

<p><code>R6Class</code> object.
</p>


<h3>Value</h3>

<p>Object of <code>R6Class</code> with methods for accessing facility networks.
</p>


<h3>Methods</h3>


<dl>
<dt><code>new(edgelist,
window_threshold,
nmoves_threshold,
noloops)</code></dt>
<dd>
<p>This method is used to create an object of this class with <code>edgelist</code> as the necessary information to create the network.
The other arguments <code>window_threshold</code>, <code>nmoves_threshold</code>, and <code>noloops</code> are specific to the <code>edgelist</code> and need to be provided.
For ease of use, it is preferable to use the function <code>hospinet_from_subject_database</code></p>
</dd>
<dt><code>print()</code></dt>
<dd>
<p>This method prints basic information about the object.</p>
</dd>
<dt><code>plot(type = "matrix")</code></dt>
<dd>
<p>This method plots the network matrix by default.
The argument <code>type</code> can take the following values:
</p>

<dl>
<dt>matrix</dt>
<dd>
<p>plot the network matrix,</p>
</dd>
<dt>clustered_matrix</dt>
<dd>
<p>identify and plot cluster(s) in the matrix using the infomap algorithm (from igraph),</p>
</dd>
<dt>degree</dt>
<dd>
<p>plot the histogram of the number of neighbors by facility,</p>
</dd>
<dt>circular_network</dt>
<dd>
<p>plot the network by clusters using a "spaghetti-like" layout. Only works when there are at least 2 clusters.</p>
</dd>
</dl>
</dd>
</dl>
<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>edgelist</code></dt>
<dd>
<p>(data.table) the list of edges (origin, target) and their associated number of movements (N) (read-only)</p>
</dd>
<dt><code>edgelist_long</code></dt>
<dd>
<p>(data.table) edgelist with additional information (read-only)</p>
</dd>
<dt><code>matrix</code></dt>
<dd>
<p>(matrix) the transfer matrix (active binding, read-only)</p>
</dd>
<dt><code>igraph</code></dt>
<dd>
<p>(igraph) the igraph object corresponding to the network (active binding, read-only)</p>
</dd>
<dt><code>n_facilities</code></dt>
<dd>
<p>the number of facilities in the network (read-only)</p>
</dd>
<dt><code>n_movements</code></dt>
<dd>
<p>the total number of subject movements in the network (read-only)</p>
</dd>
<dt><code>window_threshold</code></dt>
<dd>
<p>the window threshold used to compute the network (read-only)</p>
</dd>
<dt><code>nmoves_threshold</code></dt>
<dd>
<p>the nmoves threshold used to compute the network (read-only)</p>
</dd>
<dt><code>noloops</code></dt>
<dd>
<p>TRUE if loops have been removed (read-only)</p>
</dd>
<dt><code>hist_degrees</code></dt>
<dd>
<p>histogram data of the number of connections per facility</p>
</dd>
<dt><code>LOSPerHosp</code></dt>
<dd>
<p>the mean length of stay for each facility (read-only)</p>
</dd>
<dt><code>admissionsPerHosp</code></dt>
<dd>
<p>the number of admissions to each facility (read-only)</p>
</dd>
<dt><code>subjectsPerHosp</code></dt>
<dd>
<p>the number of unique subjects admitted to each facility (read-only)</p>
</dd>
<dt><code>degrees</code></dt>
<dd>
<p>number of connections for each facilities (total, in, and out)(read-only)</p>
</dd>
<dt><code>closenesss</code></dt>
<dd>
<p>the closeness centrality of each facility (read-only)</p>
</dd>
<dt><code>betweennesss</code></dt>
<dd>
<p>the betweenness centrality of each facility (read-only)</p>
</dd>
<dt><code>cluster_infomap</code></dt>
<dd>
<p>the assigned community for each facility, based on the infomap algorithm (read-only)</p>
</dd>
<dt><code>cluster_fast_greedy</code></dt>
<dd>
<p>the assigned community for each facility, based on the greedy modularity optimization algorithm (read-only)</p>
</dd>
<dt><code>hubs_global</code></dt>
<dd>
<p>Kleinberg's hub centrality scores, based on the entire network (read-only)</p>
</dd>
<dt><code>hubs_infomap</code></dt>
<dd>
<p>same as hubs_global, but computed per community based on the infomap algorithm (read-only)</p>
</dd>
<dt><code>hubs_fast_greedy</code></dt>
<dd>
<p>same as hubs_global, but computed per community based on the infomap algorithm (read-only)</p>
</dd>
<dt><code>metricsTable</code></dt>
<dd>
<p>(data.table) all of the above metrics for each facility (read-only)</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-HospiNet-new"><code>HospiNet$new()</code></a>
</p>
</li>
<li> <p><a href="#method-HospiNet-print"><code>HospiNet$print()</code></a>
</p>
</li>
<li> <p><a href="#method-HospiNet-plot"><code>HospiNet$plot()</code></a>
</p>
</li>
<li> <p><a href="#method-HospiNet-clone"><code>HospiNet$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-HospiNet-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Create a new HospiNet object.
</p>


<h5>Usage</h5>

<div class="r"><pre>HospiNet$new(
  edgelist,
  edgelist_long,
  window_threshold,
  nmoves_threshold,
  noloops,
  prob_params,
  fsummary = NULL,
  create_MetricsTable = FALSE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>edgelist</code></dt>
<dd>
<p>Short format edgelist</p>
</dd>
<dt><code>edgelist_long</code></dt>
<dd>
<p>Long format edgelist</p>
</dd>
<dt><code>window_threshold</code></dt>
<dd>
<p>The window threshold used to compute the network</p>
</dd>
<dt><code>nmoves_threshold</code></dt>
<dd>
<p>The nmoves threshold used to compute the network</p>
</dd>
<dt><code>noloops</code></dt>
<dd>
<p>TRUE if loops have been removed</p>
</dd>
<dt><code>prob_params</code></dt>
<dd>
<p>Currently unused</p>
</dd>
<dt><code>fsummary</code></dt>
<dd>
<p>A pre-built data.table with the LOSPerHosp, subjectsPerHosp
and admissionsPerHosp that don't need to be recomputed.</p>
</dd>
<dt><code>create_MetricsTable</code></dt>
<dd>
<p>all of the metrics for each facility</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A new 'HospiNet' object
</p>


<hr>
<a id="method-HospiNet-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>Prints a basic description of the number of facilities and movements of
a HospiNet object.
</p>


<h5>Usage</h5>

<div class="r"><pre>HospiNet$print()</pre></div>



<h5>Returns</h5>

<p>NULL
</p>


<hr>
<a id="method-HospiNet-plot"></a>



<h4>Method <code>plot()</code>
</h4>

<p>Plots various representations of the HospiNet network
</p>


<h5>Usage</h5>

<div class="r"><pre>HospiNet$plot(type = "matrix", ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>type</code></dt>
<dd>
<p>One of "matrix", "degree", "clustered_matrix", "circular network"
Choose what you would like to plot - the connectivity matrix, degree
distribution, the clusters, or the network in a circle.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional arguments to be provided. Only supported for ‘type == ’circular_network''.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>a 'ggplot2' object
</p>


<hr>
<a id="method-HospiNet-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>HospiNet$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">mydbsmall &lt;- create_fake_subjectDB(n_subjects = 100, n_facilities = 10)

hn &lt;- hospinet_from_subject_database(
  base = checkBase(mydbsmall),
  window_threshold = 10,
  count_option = "successive",
  condition = "dates"
)

hn

plot(hn)
plot(hn, type = "clustered_matrix")
</code></pre>


</div>