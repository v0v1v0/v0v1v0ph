<div class="container">

<table style="width: 100%;"><tr>
<td>validate_no_formula_duplication</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Ensure no duplicate terms appear in <code>formula</code>
</h2>

<h3>Description</h3>

<p>validate - asserts the following:
</p>

<ul><li> <p><code>formula</code> must not have duplicates terms on the left and right hand
side of the formula.
</p>
</li></ul>
<p>check - returns the following:
</p>

<ul>
<li> <p><code>ok</code> A logical. Does the check pass?
</p>
</li>
<li> <p><code>duplicates</code> A character vector. The duplicate terms.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">validate_no_formula_duplication(formula, original = FALSE)

check_no_formula_duplication(formula, original = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula to check.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>original</code></td>
<td>
<p>A logical. Should the original names be checked, or should
the names after processing be used? If <code>FALSE</code>, <code>y ~ log(y)</code> is allowed
because the names are <code>"y"</code> and <code>"log(y)"</code>, if <code>TRUE</code>, <code>y ~ log(y)</code> is not
allowed because the original names are both <code>"y"</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>validate_no_formula_duplication()</code> returns <code>formula</code> invisibly.
</p>
<p><code>check_no_formula_duplication()</code> returns a named list of two components,
<code>ok</code> and <code>duplicates</code>.
</p>


<h3>Validation</h3>

<p>hardhat provides validation functions at two levels.
</p>

<ul>
<li> <p><code style="white-space: pre;">⁠check_*()⁠</code>:  <em>check a condition, and return a list</em>. The list
always contains at least one element, <code>ok</code>, a logical that specifies if the
check passed. Each check also has check specific elements in the returned
list that can be used to construct meaningful error messages.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠validate_*()⁠</code>: <em>check a condition, and error if it does not pass</em>. These
functions call their corresponding check function, and
then provide a default error message. If you, as a developer, want a
different error message, then call the <code style="white-space: pre;">⁠check_*()⁠</code> function yourself,
and provide your own validation function.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Other validation functions: 
<code>validate_column_names()</code>,
<code>validate_outcomes_are_binary()</code>,
<code>validate_outcomes_are_factors()</code>,
<code>validate_outcomes_are_numeric()</code>,
<code>validate_outcomes_are_univariate()</code>,
<code>validate_prediction_size()</code>,
<code>validate_predictors_are_numeric()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># All good
check_no_formula_duplication(y ~ x)

# Not good!
check_no_formula_duplication(y ~ y)

# This is generally okay
check_no_formula_duplication(y ~ log(y))

# But you can be more strict
check_no_formula_duplication(y ~ log(y), original = TRUE)

# This would throw an error
try(validate_no_formula_duplication(log(y) ~ log(y)))
</code></pre>


</div>