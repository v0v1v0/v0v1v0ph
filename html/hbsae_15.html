<div class="container">

<table style="width: 100%;"><tr>
<td>fSurvReg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute small area estimates based on the survey regression estimator.</h2>

<h3>Description</h3>

<p>This function computes survey regression estimates as a special case of unit-level model small area estimates with a (relatively) very large value for the between-area variance
but without including area effects in the model fit. The model assumes a single overall variance parameter, so that the resulting estimated variances are not area-specific but smoothed.
Varying inclusion probabilities may be taken into account by including them in the model, e.g. as an additional covariate,
and/or as model variance structure by specifying arguments v and vpop, see <code>fSAE.Unit</code>. The resulting estimates may be used as input estimates for area-level model small area estimation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fSurvReg(y, X, area, Narea, Xpop, removeEmpty = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>response vector of length n.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>n x p model matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>area</code></td>
<td>
<p>n-vector of area codes, typically a factor variable with m levels, where m is the number of in-sample areas.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Narea</code></td>
<td>
<p>M-vector of area population sizes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xpop</code></td>
<td>
<p>M x p matrix of population means.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>removeEmpty</code></td>
<td>
<p>whether out-of-sample areas should be removed from the results. If <code>FALSE</code> these areas are retained in the vectors of estimates,
but they will have (relatively) very large standard errors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional arguments v and vpop passed to <code>fSAE.Unit</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>sae</code> containing the survey regression small area estimates and their estimated variances.
</p>


<h3>References</h3>

<p>G.E. Battese, R.M. Harter and W.A. Fuller (1988).
An Error-Components Model for Prediction of County Crop Areas Using Survey and Satellite Data.
Journal of the American Statistical Association, 83(401), 28-36.
</p>
<p>J.N.K. Rao and I. Molina (2015). Small Area Estimation. Wiley.
</p>


<h3>See Also</h3>

<p><code>sae-class</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">d &lt;- generateFakeData()

# generate design matrix, variable of interest, area indicator and population data
dat &lt;- fSAE(y0 ~ x + area2, data=d$sam, area="area", popdata=d$Xpop,
            type="data")

sae &lt;- fSurvReg(dat$y, dat$X, dat$area, dat$Narea, dat$PopMeans)
EST(sae)  # estimates
RMSE(sae)  # standard errors
</code></pre>


</div>