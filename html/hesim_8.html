<div class="container">

<table style="width: 100%;"><tr>
<td>as.data.table.tparams_transprobs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Coerce to <code>data.table</code>
</h2>

<h3>Description</h3>

<p>Creates a <code>data.table</code> that combines the transition probability matrices
and ID variables from a <code>tparams_transprobs</code> object. This is often useful for
debugging.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'tparams_transprobs'
as.data.table(x, ..., prefix = "prob_", sep = "_", long = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>tparams_transprobs</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Currently unused.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix, sep</code></td>
<td>
<p>Arguments passed to <code>tpmatrix_names()</code> for naming
the transition probability columns. The <code>states</code> argument is based on
the column names (i.e., names of the second dimension) of the <code style="white-space: pre;">⁠$value⁠</code>
element of <code>x</code>; if <code>NULL</code>, then states are named <code>s1</code>, ..., <code>sh</code> where h is
the number of states. Only used if <code>long = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>long</code></td>
<td>
<p>If <code>TRUE</code>, then output is returned in a longer format with
one row for each transition; if <code>FALSE</code>, then each row contains an entire
flattened transition probability matrix.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The output always contains columns for the ID variables and the
transition probabilities, but the form depends on on the <code>long</code> argument.
If <code>FALSE</code>, then a <code>data.table</code> with one row for each transition probability
matrix is returned; otherwise, the <code>data.table</code> contains one row for each
transition and columns <code>from</code> (the state being transitioned from) and
<code>to</code> (the state being transitioned to) are added.
</p>


<h3>See Also</h3>

<p><code>tparams_transprobs()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Create tparams_transprobs object
hesim_dat &lt;- hesim_data(strategies = data.frame(strategy_id = 1:2),
                        patients = data.frame(patient_id = 1:3))
input_data &lt;- expand(hesim_dat, by = c("strategies", "patients"))    
tpmat_id &lt;- tpmatrix_id(input_data, n_samples = 2)      
p_12 &lt;- runif(nrow(tpmat_id), .6, .7) + 
  .05 * (tpmat_id$strategy_id == 2)
tpmat &lt;- tpmatrix(
  C, p_12,
  0, 1
)
tprobs &lt;- tparams_transprobs(tpmat, tpmat_id)

# Convert to data.table in "wide" format
as.data.table(tprobs)
as.data.table(tprobs, prefix = "")
as.data.table(tprobs, prefix = "", sep = ".")

# Convert to data.table in "long: format
as.data.table(tprobs, long = TRUE)

</code></pre>


</div>