<div class="container">

<table style="width: 100%;"><tr>
<td>get_servicemap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Access Helsinki region Service Map API</h2>

<h3>Description</h3>

<p>Access the new Helsinki region Service Map (Paakaupunkiseudun
Palvelukartta, <a href="https://palvelukartta.hel.fi/fi/">https://palvelukartta.hel.fi/fi/</a>) data through the API:
<a href="http://api.hel.fi/servicemap/v2/">http://api.hel.fi/servicemap/v2/</a>. For more API documentation and license
information see the API link.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_servicemap(query, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>The API query as a string, for example <em>search</em>, <em>service</em>,
or <em>unit</em>. For full list of available options and details, see
<a href="https://dev.hel.fi/apis/service-map-backend-api/">https://dev.hel.fi/apis/service-map-backend-api/</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters to the API (optional).
For additional details, see
<a href="https://dev.hel.fi/apis/service-map-backend-api/">https://dev.hel.fi/apis/service-map-backend-api/</a>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Complete list of possible query input:
</p>

<ul>
<li>
<p>"unit" unit, or service point
</p>
</li>
<li>
<p>"service" category of service provided by a unit
</p>
</li>
<li>
<p>"organization" organization providing services
</p>
</li>
<li>
<p>"search" full text search for units, services and street addresses
</p>
</li>
<li>
<p>"accessibility" rule database for calculating accessibility scores
</p>
</li>
<li>
<p>"geography" spatial information, where services are located
</p>
</li>
</ul>
<p>With "..." the user can pass on additional parameters that depend on the
chosen query input. For example, when performing a search (query = "search"),
the search can be narrowed down with parameters such as:
</p>

<ul>
<li>
<p>"q" complete search
</p>
</li>
<li>
<p>"input" partial search
</p>
</li>
<li>
<p>"type" valid types: service_node, service, unit, address
</p>
</li>
<li>
<p>"language" as two-character ISO-639-1 code: fi, sv, en
</p>
</li>
<li>
<p>"municipality" comma-separated list of municipalities, lower-case, in Finnish
</p>
</li>
<li>
<p>"service" comma-separated list of service IDs
</p>
</li>
<li>
<p>"include" include the complete content from certain fields with a comma-separated list of field names  with a valid type prefix
</p>
</li>
<li>
<p>"only" restricts the results with a comma-separated list of field names with a valid type prefix
</p>
</li>
<li>
<p>"page" request a certain page number
</p>
</li>
<li>
<p>"page_size" determine number of entries in one page
</p>
</li>
</ul>
<p>For more detailed explanation, see <a href="https://dev.hel.fi/apis/service-map-backend-api/">https://dev.hel.fi/apis/service-map-backend-api/</a>.
</p>


<h3>Value</h3>

<p>Data frame or a list
</p>


<h3>Author(s)</h3>

<p>Juuso Parkkinen <a href="mailto:louhos@googlegroups.com">louhos@googlegroups.com</a>, Pyry Kantanen
</p>


<h3>Source</h3>

<p>API contents: All content is available under CC BY 4.0,
except where otherwise stated. The City of Helsinki logo is a registered
trademark. The Helsinki Grotesk Typeface is a proprietary typeface licensed
by Camelot Typefaces. <a href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</a>
</p>
<p>API Location: <a href="https://api.hel.fi/servicemap/v2/">https://api.hel.fi/servicemap/v2/</a>
</p>
<p>API documentation: <a href="https://dev.hel.fi/apis/service-map-backend-api/">https://dev.hel.fi/apis/service-map-backend-api/</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# A data.frame with 47 variables
search_puisto &lt;- get_servicemap(query="search", q="puisto")
# A data.frame with 7 variables
search_padel &lt;- get_servicemap(query="search", input="padel", 
only="unit.name, unit.location.coordinates, unit.street_address", 
municipality="helsinki")

## End(Not run)

</code></pre>


</div>