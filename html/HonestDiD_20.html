<div class="container">

<table style="width: 100%;"><tr>
<td>findOptimalFLCI</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Constructs optimal fixed length confidence interval for <code class="reqn">\Delta = \Delta^{SD}(M)</code>.
</h2>

<h3>Description</h3>

<p>Computes the optimal FLCI for the scalar parameter of interest under <code class="reqn">\Delta = \Delta^{SD}(M)</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">findOptimalFLCI(betahat, sigma, M = 0,
                numPrePeriods, numPostPeriods,
                l_vec = .basisVector(index = 1, size = numPostPeriods),
                numPoints = 100, alpha = 0.05, seed = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>betahat</code></td>
<td>

<p>Vector of estimated event study coefficients.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>

<p>Covariance matrix of event study coefficients.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numPrePeriods</code></td>
<td>

<p>Number of pre-periods.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numPostPeriods</code></td>
<td>

<p>Number of post-periods.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l_vec</code></td>
<td>

<p>Vector of length numPostPeriods that describes the scalar parameter of interest, theta = l_vec'tau. Default equals to first basis vector, (1, 0, ..., 0)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>

<p>Tuning parameter for <code class="reqn">\Delta^{SD}(M)</code> that governs the degree of non-linearity allowed in the violation of parallel trends. Default equals 0
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numPoints</code></td>
<td>

<p>Number of possible values when optimizing the FLCI. Default equals 100.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>

<p>Desired size of the FLCI. Default equals 0.05 (corresponding to 95% confidence interval)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>

<p>Random seed for internal computations; included for reproducibility.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a list containing items
</p>
<table>
<tr style="vertical-align: top;">
<td><code>FLCI</code></td>
<td>

<p>Vector containing lower and upper bounds of optimal FLCI.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimalVec</code></td>
<td>

<p>Vector of length numPrePeriods + numPostPeriods that contains the vector of coefficients associated with the optimal FLCI.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimalPrePeriodVec</code></td>
<td>

<p>Vector of length numPrePeriods that contains the vector of coefficients for the optimal FLCI that are associated with the pre-period event study coefficients.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimalHalfLength</code></td>
<td>

<p>A scalar that equals the half-length of the optimal FLCI.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>

<p>Value of M at which the FLCI was computed.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>

<p>Status of optimization.
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Ashesh Rambachan
</p>


<h3>References</h3>

<p>Rambachan, Ashesh and Jonathan Roth. "An Honest Approach to Parallel Trends." 2021.
</p>


</div>