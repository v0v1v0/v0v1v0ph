<div class="container">

<table style="width: 100%;"><tr>
<td>change_state</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Handle a change of server state</h2>

<h3>Description</h3>

<p>In a vignette, put a call to <code>change_state()</code> before any code block that
makes a change on
the server, or rather, before any code block that might repeat the same
request previously done and expect a different result.
</p>


<h3>Usage</h3>

<pre><code class="language-R">change_state()
</code></pre>


<h3>Details</h3>

<p><code>change_state()</code> works by layering a new directory on top of the existing
<code>.mockPaths()</code>, so fixtures are recorded/loaded there, masking rather than
overwriting previously recorded responses for the same request. In
vignettes, these mock layers are subdirectories with integer names.
</p>


<h3>Value</h3>

<p>Invisibly, the return of <code>.mockPaths()</code> with the new path added.
</p>


<h3>See Also</h3>

<p><code>start_vignette()</code>;
<code>vignette("vignettes", package = "httptest2")</code> for an overview of all
</p>


</div>