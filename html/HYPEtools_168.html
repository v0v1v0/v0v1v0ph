<div class="container">

<table style="width: 100%;"><tr>
<td>WriteHarmonizedSpatialDescription</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Write a Harmonized Spatial Description File</h2>

<h3>Description</h3>

<p>This is a convenience wrapper function to export a data frame to the required Harmonized Spatial Description File format. See the
<a href="https://git.smhi.se/fouh/hypeobsmetadatatools">HYPEObsMetadataTools documentation</a>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">WriteHarmonizedSpatialDescription(
  df,
  filename = "",
  replace.accents = FALSE,
  strip.punctuation = FALSE,
  ignore.cols = NULL,
  nThread = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>Data frame containing the harmonized spatial description data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>Path to and file name (including ".csv" file extension) of the Harmonized Spatial Description CSV file to export. Windows users: Note that
Paths are separated by '/', not '\'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace.accents</code></td>
<td>
<p>Logical, if <code>TRUE</code>, then accented characters (e.g. ä, ö, å) will be replaced with non-accented characters in all strings.
If <code>FALSE</code>, then strings will be left unmodified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strip.punctuation</code></td>
<td>
<p>Logical, if <code>TRUE</code>, then punctuation characters (e.g. "-", ".", ".") will be removed from all strings.
If <code>FALSE</code>, then strings will be left unmodified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore.cols</code></td>
<td>
<p>Vector of columns in <code>df</code> that should be ignored when <code>replace.accents</code> or <code>strip.punctuation</code> are set to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nThread</code></td>
<td>
<p>Integer, set number of threads to be used when writing file. If <code>NULL</code> (default), then the output of data.table::getDTthreads will be used</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>WriteHarmonizedSpatialDescription</code> is a convenience wrapper function of <code>fread</code> to export harmonized spatial description data in the HYPEObsMetadataTools Harmonized Spatial Description Format.
The function checks that all required columns are present, includes options to format strings, and exports data to output CSV files with the correct encoding and formatting.
</p>


<h3>Value</h3>

<p><code>WriteSpatialDescrption</code> exports a CSV file if <code>filename</code> is specified. Otherwise, the function outputs a data frame to the console.
</p>


<h3>Examples</h3>

<pre><code class="language-R">df &lt;- data.frame(
  "STATION_ID" = "A1",
  "SRC_NAME" = "Example",
  "DOWNLOAD_DATE" = "2022-10-19",
  "SRC_STATNAME" = "Station",
  "SRC_WBNAME" = "River",
  "SRC_UAREA" = NA,
  "SRC_XCOORD" = 28.11831,
  "SRC_YCOORD" = -25.83053,
  "SRC_EPSG" = 4326,
  "ADJ_XCOORD" = 28.11831,
  "ADJ_YCOORD" = -25.83053,
  "ADJ_EPSG" = 4326
)

WriteHarmonizedSpatialDescription(df)

</code></pre>


</div>