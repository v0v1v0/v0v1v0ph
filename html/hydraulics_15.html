<div class="container">

<table style="width: 100%;"><tr>
<td>manningt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Solves the Manning Equation for water flow in an open channel</h2>

<h3>Description</h3>

<p>This function solves the Manning equation for water flow in an open 
channel with a trapezoidal shape.  Uniform flow conditions are assumed, 
so that the channel slope is equal to the slope of the water surface 
and the energy grade line. This is a modification of the code prepared 
by Irucka Embry in his iemisc package. Specifically the
iemisc::manningtrap, iemisc::manningrect, and iemisc::manningtri were combined
and adapted here for cases commonly used in classroom exercises. Some
auxiliary variables in the iemisc code are not included here (shear stress, and
specific energy), as these can be calculated separately. A cross-section figure is also
available.
</p>


<h3>Usage</h3>

<pre><code class="language-R">manningt(
  Q = NULL,
  n = NULL,
  m = NULL,
  Sf = NULL,
  y = NULL,
  b = NULL,
  units = c("SI", "Eng"),
  ret_units = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>
<p>numeric vector that contains the flow rate [<code class="reqn">m^3 s^{-1}</code> or <code class="reqn">ft^3 s^{-1}</code>]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>numeric vector that contains the Manning roughness coefficient</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>numeric vector that contains the side slope of the channel (m:1 H:V) [unitless]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sf</code></td>
<td>
<p>numeric vector that contains the slope of the channel [unitless]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>numeric vector that contains the water depth [<code class="reqn">m</code> or <code class="reqn">ft</code>]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>numeric vector that contains the channel bottom width [<code class="reqn">m</code> or <code class="reqn">ft</code>]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>character vector that contains the system of units [options are
<code>SI</code> for International System of Units and <code>Eng</code> for English (US customary)
units. This is used for compatibility with iemisc package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ret_units</code></td>
<td>
<p>If set to TRUE the value(s) returned are of class <code>units</code> with
units attached to the value. [Default is FALSE]</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The Manning equation characterizes open channel flow conditions under uniform flow conditions: 
</p>
<p style="text-align: center;"><code class="reqn">Q = A\frac{C}{n}{R}^{\frac{2}{3}}{S_f}^{\frac{1}{2}}</code>
</p>

<p>where <code class="reqn">C</code> is 1.0 for SI units and 1.49 for Eng (U.S. Customary) units. Using the geometric relationships 
for hydraulic radius and cross-sectional area of a trapezoid, it takes the form:
</p>
<p style="text-align: center;"><code class="reqn">Q=\frac{C}{n}{\frac{\left(by+my^2\right)^{\frac{5}{3}}}{\left(b+2y\sqrt{1+m^2}\right)^\frac{2}{3}}}{S_f}^{\frac{1}{2}}</code>
</p>

<p>Critical depth is defined by the relation (at critical conditions):
</p>
<p style="text-align: center;"><code class="reqn">\frac{Q^{2}B}{g\,A^{3}}=1</code>
</p>

<p>where <code class="reqn">B</code> is the top width of the water surface. For a given Q, m, n, and Sf, the most
hydraulically efficient channel is found by maximizing R, which can be done by setting 
in the Manning equation <code class="reqn">\frac{\partial R}{\partial y}=0</code>. This produces:
</p>
<p style="text-align: center;"><code class="reqn">y_{opt} = 2^{\frac{1}{4}}\left(\frac{Qn}{C\left(2\sqrt{1+m^2}-m\right)S_f^{\frac{1}{2}}}\right)^{\frac{3}{8}}</code>
</p>

<p style="text-align: center;"><code class="reqn">b_{opt} = 2y_{opt}\left(\sqrt{1+m^2}-m\right)</code>
</p>



<h3>Value</h3>

<p>Returns a list including the missing parameter:
</p>

<ul>
<li>
<p> Q - flow rate
</p>
</li>
<li>
<p> V - flow velocity
</p>
</li>
<li>
<p> A - cross-sectional area of flow
</p>
</li>
<li>
<p> P - wetted perimeter
</p>
</li>
<li>
<p> R - hydraulic radius
</p>
</li>
<li>
<p> y - flow depth (normal depth)
</p>
</li>
<li>
<p> b - channel bottom width
</p>
</li>
<li>
<p> m - channel side slope
</p>
</li>
<li>
<p> Sf - slope
</p>
</li>
<li>
<p> B - top width of water surface
</p>
</li>
<li>
<p> n - Manning's roughness
</p>
</li>
<li>
<p> yc - critical depth
</p>
</li>
<li>
<p> Fr - Froude number
</p>
</li>
<li>
<p> Re - Reynolds number
</p>
</li>
<li>
<p> bopt - optimal bottom width (returned if solving for b)
</p>
</li>
<li>
<p> yopt - optimal water depth (returned if solving for y)
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Ed Maurer, Irucka Embry
</p>


<h3>See Also</h3>

<p><code>spec_energy_trap</code> for specific energy diagram and <code>xc_trap</code> 
for a cross-section diagram of the trapezoidal channel
</p>


<h3>Examples</h3>

<pre><code class="language-R">
#Solving for flow rate, Q, trapezoidal channel: SI Units
manningt(n = 0.013, m = 2, Sf = 0.0005, y = 1.83, b = 3, units = "SI")
#returns Q=22.2 m3/s

#Solving for roughness, n, rectangular channel: Eng units
manningt(Q = 14.56, m = 0, Sf = 0.0004, y = 2.0, b = 4, units = "Eng")
#returns Manning n of 0.016

#Solving for depth, y, triangular channel: SI units
manningt(Q = 1.0, n = 0.011, m = 1, Sf = 0.0065, b = 0, units = "SI")
#returns 0.6 m normal flow depth

</code></pre>


</div>