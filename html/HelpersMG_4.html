<div class="container">

<table style="width: 100%;"><tr>
<td>as.parameters</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract parameters from mcmcComposite object</h2>

<h3>Description</h3>

<p>Take a mcmcComposite object and create a vector object with parameter value at specified iteration.<br>
If <code>index="best"</code>, the function will return the parameters for the highest likelihood. It also indicates at which iteration the maximum lihelihood has been observed.<br>
If <code>index="last"</code>, the function will return the parameters for the last likelihood.<br>
If <code>index="median"</code>, the function will return the median value of the parameter.<br>
if <code>index="quantile"</code>, the function will return the <code>probs</code> defined by quantiles parameter.<br>
If <code>index="mode"</code>, the function will return the mode value of the parameter based on Asselin de Beauville (1978) method.<br><code>index</code> can also be a numeric value.<br>
This function uses the complete iterations available except the adaptation part,
even if thin parameter is not equal to 1.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as.parameters(x, index = "best", chain = 1, probs = 0.025)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A mcmcComposite obtained as a result of <code>MHalgoGen()</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>At which iteration the parameters must be taken, see description</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chain</code></td>
<td>
<p>The number of the chain in which to get parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>Quantiles to be returned, see description</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector with parameters at maximum likelihood or index position
</p>


<h3>Author(s)</h3>

<p>Marc Girondot <a href="mailto:marc.girondot@gmail.com">marc.girondot@gmail.com</a>
</p>


<h3>References</h3>

<p>Asselin de Beauville J.-P. (1978). Estimation non paramétrique de la densité et du mode,
exemple de la distribution Gamma. Revue de Statistique Appliquée, 26(3):47-70.
</p>


<h3>See Also</h3>

<p>Other mcmcComposite functions: 
<code>MHalgoGen()</code>,
<code>as.mcmc.mcmcComposite()</code>,
<code>as.quantiles()</code>,
<code>merge.mcmcComposite()</code>,
<code>plot.PriorsmcmcComposite()</code>,
<code>plot.mcmcComposite()</code>,
<code>setPriors()</code>,
<code>summary.mcmcComposite()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(HelpersMG)
require(coda)
x &lt;- rnorm(30, 10, 2)
dnormx &lt;- function(data, x) {
 data &lt;- unlist(data)
 return(-sum(dnorm(data, mean=x['mean'], sd=x['sd'], log=TRUE)))
}
parameters_mcmc &lt;- data.frame(Density=c('dnorm', 'dlnorm'), 
                              Prior1=c(10, 0.5), 
                              Prior2=c(2, 0.5), 
                              SDProp=c(1, 1), 
                              Min=c(-3, 0), 
                              Max=c(100, 10), 
                              Init=c(10, 2), 
                              stringsAsFactors = FALSE, 
                              row.names=c('mean', 'sd'))
mcmc_run &lt;- MHalgoGen(n.iter=1000, parameters=parameters_mcmc, data=x, 
                      likelihood=dnormx, n.chains=1, n.adapt=100, 
                      thin=1, trace=1)
plot(mcmc_run, xlim=c(0, 20))
plot(mcmc_run, xlim=c(0, 10), parameters="sd")
mcmcforcoda &lt;- as.mcmc(mcmc_run)
#' heidel.diag(mcmcforcoda)
raftery.diag(mcmcforcoda)
autocorr.diag(mcmcforcoda)
acf(mcmcforcoda[[1]][,"mean"], lag.max=20, bty="n", las=1)
acf(mcmcforcoda[[1]][,"sd"], lag.max=20, bty="n", las=1)
batchSE(mcmcforcoda, batchSize=100)

# The batch standard error procedure is usually thought to 
# be not as accurate as the time series methods used in summary
summary(mcmcforcoda)$statistics[,"Time-series SE"]
summary(mcmc_run)
as.parameters(mcmc_run)
lastp &lt;- as.parameters(mcmc_run, index="last")
parameters_mcmc[,"Init"] &lt;- lastp

# The n.adapt set to 1 is used to not record the first set of parameters
# then it is not duplicated (as it is also the last one for 
# the object mcmc_run)
mcmc_run2 &lt;- MHalgoGen(n.iter=1000, parameters=parameters_mcmc, data=x, 
                       likelihood=dnormx, n.chains=1, n.adapt=1, 
                       thin=1, trace=1)
mcmc_run3 &lt;- merge(mcmc_run, mcmc_run2)

####### no adaptation, n.adapt must be 0
parameters_mcmc[,"Init"] &lt;- c(mean(x), sd(x))
mcmc_run3 &lt;- MHalgoGen(n.iter=1000, parameters=parameters_mcmc, data=x, 
                       likelihood=dnormx, n.chains=1, n.adapt=0, 
                       thin=1, trace=1)
# With index being median, it returns the median value for each parameter
as.parameters(mcmc_run3, index="median")
as.parameters(mcmc_run3, index="mode")
as.parameters(mcmc_run3, index="best")
as.parameters(mcmc_run3, index="quantile", probs=0.025)
as.parameters(mcmc_run3, index="quantile", probs=0.975)
as.parameters(mcmc_run3, index="quantile", probs=c(0.025, 0.975))

## End(Not run)
</code></pre>


</div>