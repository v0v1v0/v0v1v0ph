<div class="container">

<table style="width: 100%;"><tr>
<td>make_whole_fast</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Constructs a continuous, uninterrupted time series of temperatures (faster).</h2>

<h3>Description</h3>

<p>Takes a series of dates and temperatures, and if irregular (but ordered), inserts
missing dates and fills correpsonding temperatures with NAs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_whole_fast(data)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame with columns for date (<code>ts_x</code>) and
temperature (<code>ts_y</code>) data. Ordered daily data are expected, and
although missing values (NA) can be accommodated, the function is only
recommended when NAs occur infrequently, preferably at no more than three
consecutive days.</p>
</td>
</tr></table>
<h3>Details</h3>


<ol>
<li>
<p> This function reads in daily data with the time vector specified as
<code>Date</code> (e.g. "1982-01-01").
</p>
</li>
<li>
<p> It is up to the user to calculate daily data from sub-daily measurements.
Leap years are automatically accommodated by this function.
</p>
</li>
<li>
<p> This function can handle some missing days, but this is not a
licence to actually use these data for the detection of anomalous thermal
events. Hobday et al. (2016) recommend gaps of no more than 3 days, which
may be adjusted by setting the <code>maxPadLength</code> argument of the
<code>ts2clm</code> function. The longer and more frequent the gaps become
the lower the fidelity of the annual climatology and threshold that can be
calculated, which will not only have repercussions for the accuracy at which
the event metrics can be determined, but also for the number of events that
can be detected.
</p>
</li>
<li>
<p> The original <code>make_whole</code> tests to see if some rows are
duplicated, or if replicate temperature measurements are present per day. In
<code>make_whole_fast</code> (this function) this has been disabled; also,
the latter function lacks the facility to check if the time series is complete
and regular (i.e. no missing values in the date vector). Effectively,
we now only set up the day-of-year (doy) vector in <code>make_whole_fast</code>.
Should the user be concerned about the potential for repeated measurements
or worry that the time series is irregular, we suggest that the necessary
checks and fixes are implemented prior to feeding the time series to <code>ts2clim</code>
via <code>make_whole_fast</code>, or to use <code>make_whole</code> instead. For very large
gridded temperature records it probably makes a measurable difference if the
'fast' version is used, but it might prevent <code>detect_event</code>
from failing should some gridded cells contain missing rows or some duplicated
values. When using the fast algorithm, we assume that the user has done all
the necessary work to ensure that the time vector is regular and without
repeated measurements beforehand.
</p>
</li>
</ol>
<h3>Value</h3>

<p>The function will return a data frame with three columns. The column
headed <code>doy</code> (day-of-year) is the Julian day running from 1 to 366, but
modified so that the day-of-year series for non-leap-years runs 1...59 and
then 61...366. For leap years the 60th day is February 29. The <code>ts_x</code>
column is a series of dates of class <code>Date</code>, while <code>y</code> is the
measured variable. This time series will be uninterrupted and continuous daily
values between the first and last dates of the input data.
</p>


<h3>Author(s)</h3>

<p>Smit, A. J., Schlegel, R. W.
</p>


</div>