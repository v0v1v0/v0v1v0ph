<div class="container">

<table style="width: 100%;"><tr>
<td>CVarea</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute area-level cross-validation measure for sae objects.</h2>

<h3>Description</h3>

<p>This function computes a cross-validation measure defined at the area level.
It can be used, for example, to compare the predictive ability of area and unit-level models.
The code is based in part on that of <code>cv.glm</code> from package <span class="pkg">boot</span>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CVarea(
  sae,
  weight = TRUE,
  cost = function(y, yhat, w) sum(w * (y - yhat)^2)/sum(w),
  K = 10L,
  method = "hybrid",
  seed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sae</code></td>
<td>
<p>object of class sae, resulting from a call to <code>fSAE</code>,
<code>fSAE.Area</code>, or <code>fSAE.Unit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>if <code>TRUE</code>, use weights inversely proportional to the MSEs of y - yhat in the cost function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cost</code></td>
<td>
<p>cost function to be used. Defaults to a quadratic cost function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>K in K-fold cross-validation. Specifies in how many parts the dataset should be divided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>method used to refit the model. One of "HB", "hybrid" (default) or "REML", in the order of slow to fast.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>random seed used in selecting groups of areas to leave out in K-fold cross-validation.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The computed area-level cross-validation measure.
</p>


<h3>Examples</h3>

<pre><code class="language-R">d &lt;- generateFakeData()

# compute small area estimates based on area-level and unit-level models
saeArea &lt;- fSAE(y0 ~ x + area2, data=d$sam, area="area", popdata=d$Xpop,
                type="area", silent=TRUE, keep.data=TRUE)
saeUnit &lt;- fSAE(y0 ~ x + area2, data=d$sam, area="area", popdata=d$Xpop,
                type="unit", silent=TRUE, keep.data=TRUE)

# compare area and unit-level models based on area-level cross-validation

CVarea(saeArea, K=10, seed=1)  # 10-fold CV for area-level model
CVarea(saeUnit, K=10, seed=1)  # 10-fold CV for unit-level model

</code></pre>


</div>