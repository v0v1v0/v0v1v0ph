<div class="container">

<table style="width: 100%;"><tr>
<td>as_array3</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert between 2D tabular objects and 3D arrays</h2>

<h3>Description</h3>

<p>Convert a 2-dimensional tabular object where each row stores a flattened
square matrix to a 3-dimensional array of square matrices and vice versa.
This allows multiple transition matrices to be stored as either tabular objects
(e.g., matrices, data frames, etc) or as arrays.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as_array3(x)

as_tbl2(
  x,
  output = c("data.table", "data.frame", "matrix", "tpmatrix"),
  prefix = "",
  sep = "_"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>For <code>as_array3()</code> a 2-dimensional tabular object where each row stores a flattened
square matrix ordered rowwise. Reasonable classes are <code>matrix</code>, <code>data.frame</code>,
<code>data.table</code>, and <code>tpmatrix</code>. For <code>as_tbl2()</code> a 3-dimensional array
where each slice is a square matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>The class of the object returned by the function. Either
a <code>data.table</code>, <code>data.frame</code>, <code>matrix</code>, or <code>tpmatrix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix, sep</code></td>
<td>
<p>Arguments passed to <code>tpmatrix_names()</code> for naming
the transition probability columns. The <code>states</code> argument is based on
the column names (i.e., names of the second dimension) of array;
if <code>NULL</code>, then states are named <code>s1</code>, ..., <code>sh</code> where h is
the number of states.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>For <code>as_array3()</code> a 3-dimensional array of square matrices;
for <code>as_tbl2()</code> a 2-dimensional tabular object as specified by <code>output</code>.
</p>


<h3>See Also</h3>

<p><code>tpmatrix</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">p_12 &lt;- c(.7, .6)
pmat &lt;- tpmatrix(
 C, p_12,
 0, 1
)
pmat

as_array3(pmat)
as_array3(as.matrix(pmat))
as_tbl2(as_array3(pmat))
as_tbl2(as_array3(pmat), prefix = "p_", sep = ".")
</code></pre>


</div>