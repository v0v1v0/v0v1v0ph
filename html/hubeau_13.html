<div class="container">

<table style="width: 100%;"><tr>
<td>get_hydrometrie_obs_elab</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Retrieve data from API "Hydrométrie"</h2>

<h3>Description</h3>

<p>Available endpoints are:
</p>

<ul>
<li> <p><code>get_hydrometrie_obs_elab</code> retrieves hydrometric elaborate observations (daily/monthly mean flow)
</p>
</li>
<li> <p><code>get_hydrometrie_observations_tr</code> retrieves hydrometric "real time" observations ()
</p>
</li>
<li> <p><code>get_hydrometrie_sites</code> retrieves hydrometric sites
</p>
</li>
<li> <p><code>get_hydrometrie_stations</code> retrieves hydrometric stations
</p>
</li>
</ul>
<p>See the API documentation of each endpoint for available filter parameters:
<a href="https://hubeau.eaufrance.fr/page/api-hydrometrie">https://hubeau.eaufrance.fr/page/api-hydrometrie</a>
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_hydrometrie_obs_elab(...)

get_hydrometrie_observations_tr(..., entities = "station")

get_hydrometrie_sites(..., unique_site = TRUE)

get_hydrometrie_stations(..., code_sandre_reseau_station = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>parameters of the queries and their values in the format
<code style="white-space: pre;">⁠Param1_Name = "Param1 value", Param2_Name = "Param2 value"⁠</code>, use the
function list_params for a list of the available filter parameters
for a given API endpoint and see the API documentation for their description</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>entities</code></td>
<td>
<p>1-length character string filtering the rows of the returned value, possible values are: "station" for filtering on station rows, "site" for filtering on site rows, "both" for keeping all the rows</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unique_site</code></td>
<td>
<p>optional logical, if set to <code>FALSE</code> sites with several different locations produce one row by different location otherwise the first location found is used for fields <code>code_commune_site</code>, <code>libelle_commune</code>, <code>code_departement</code>, <code>code_region</code>, <code>libelle_region</code>, <code>libelle_departement</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code_sandre_reseau_station</code></td>
<td>
<p>optional logical indicating
if <code>code_sandre_reseau_station</code> field is included in the result;
if so, one line is added by item and other fields are repeated</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble::tibble with one row by record and one column by field.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Retrieve the hydrometric sites in the department of Aube
get_hydrometrie_sites(code_departement = "10")

# The same operation returning 2 rows for the site 'H0203020' which has 2 different locations
get_hydrometrie_sites(code_departement = "10", unique_site = FALSE)

# Retrieve the hydrometric stations in the department of Aube
get_hydrometrie_stations(code_departement = "10")

# Which parameters are available for endpoint "obs_elab" of API "hydrometrie"?
list_params("hydrometrie", "obs_elab")

# Retrieve the hydrometric monthly mean flow at site 'H0203020'
get_hydrometrie_obs_elab(code_entite = "H0203020", grandeur_hydro_elab = "QmM")

# Retrieve the hydrometric daily mean flow at site 'H0203020' of the last 30 days
get_hydrometrie_obs_elab(code_entite = "H0203020",
                         date_debut_obs_elab = format(Sys.Date() -30, "%Y-%m-%d"),
                         grandeur_hydro_elab = "QmJ")

## End(Not run)
</code></pre>


</div>