<div class="container">

<table style="width: 100%;"><tr>
<td>collapse</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Collapse hyperSpec objects</h2>

<h3>Description</h3>

<p>collapse/bind several hyperSpec objects into one object
</p>


<h3>Usage</h3>

<pre><code class="language-R">collapse(
  ...,
  wl.tolerance = hy.getOption("wl.tolerance"),
  collapse.equal = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>hyperSpec objects to be collapsed into one object. Instead of giving several
arguments, a list with all objects to be collapsed may be given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wl.tolerance</code></td>
<td>
<p>tolerance to decide which wavelengths are considered equal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse.equal</code></td>
<td>
<p>logical indicating whether to try first finding groups of spectra
with (approximately) equal wavelength axes. If the data is known to contain few or no
such groups, <code>collapse()</code> will be faster with this first pass being turned off.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The spectra from all objects will be put into one object.
The resulting object has all wavelengths that occur in any of the input objects,
<code>wl.tolerance</code> is used to determine which difference in the wavelengths is
tolerated as equal: clusters of approximately equal wavelengths will span at most <code>2 * wl.tolerance</code>.
Differences up to +/- <code>wl.tolerance</code> are considered equal.
</p>
<p>The returned object has wavelengths that are the weighted average
(by number of spectra) of the wavelengths within any such cluster of approximately
equal wavelengths.
</p>
<p>Labels will be taken from the first object where they are encountered. However,
the order of processing objects is not necessarily the same as the order of objects
in the input: <code>collapse</code> first processes groups of input objects that share all
wavelengths (within <code>wl.tolerance</code>).
</p>
<p>Data points corresponding to wavelengths not in the original spectrum will be set to NA.
Extra data is combined in the same manner.
</p>
<p>If the objects are named, the names will be preserved in extra data column <code style="white-space: pre;">⁠$.name⁠</code>.
If the wavelengths are names, names are preserved and taken from the first object where they were encountered,
the same applies to possible column names of the spectra matrix.
</p>


<h3>Value</h3>

<p>a hyperSpec object
</p>


<h3>Author(s)</h3>

<p>C. Beleites
</p>


<h3>See Also</h3>

<p><code>merge()</code>,  <code>rbind()</code>, and <code>plyr::rbind.fill()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">barbiturates [1:3]
collapse (barbiturates [1:3])

a &lt;- barbiturates [[1]]
b &lt;- barbiturates [[2]]
c &lt;- barbiturates [[3]]

a
b
c
collapse (a, b, c)

collapse (barbiturates [1:3], collapse.equal = FALSE)

</code></pre>


</div>