<div class="container">

<table style="width: 100%;"><tr>
<td>Data.filter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A Data Filter</h2>

<h3>Description</h3>

<p>This function creates a new dataset from an existing one by ordering taxa in order of decreasing abundance, 
collapsing less-abundant taxa into one category as	specified by the user and excluding samples with a 
total number of reads fewer than the user-specified value.
</p>


<h3>Usage</h3>

<pre><code class="language-R">	Data.filter(data, order.type = "data", minReads = 0, numTaxa = NULL, 
		perTaxa = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A matrix of taxonomic counts(columns) for each sample(rows).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order.type</code></td>
<td>

<p>If <code>"sample"</code>: Rank taxa based on its taxonomic frequency. <br>
If <code>"data"</code>: Rank taxa based on cumulative taxonomic counts across all samples (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minReads</code></td>
<td>
<p>Samples with a total number of reads less than read.crit value will be deleted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numTaxa</code></td>
<td>
<p>The number of taxa to keep, while collapsing the other (less abundant) taxa. 
Only one argument, numTaxa or perTaxa should be specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perTaxa</code></td>
<td>
<p>The combined percentage of data to keep, while collapsing the remaining taxa. 
Only one argument, numTaxa or perTaxa should be specified.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame of taxa and samples with a total number of reads greater than the minimum value. The last taxon labeled 
'Other' contains the sum of the least abundant taxa collapsed by setting 'numTaxa' or 'perTaxa'.
</p>


<h3>Examples</h3>

<pre><code class="language-R">	data(saliva) 
	
	### Excludes all samples with fewer than 1000 reads and collapses
	### taxa with 11th or smaller abundance into one category 
	filterDataNum &lt;- Data.filter(saliva, "data", 1000, numTaxa=10) 
	
	### Excludes all samples with fewer than 1000 reads and collapses
	### the least abundant taxa to keep as close to 95% of the data as
	### possible
	filterDataPer &lt;- Data.filter(saliva, "data", 1000, perTaxa=.95) 
	
	dim(saliva)
	dim(filterDataNum)
	dim(filterDataPer)
</code></pre>


</div>