<div class="container">

<table style="width: 100%;"><tr>
<td>makeraster</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>makeraster</h2>

<h3>Description</h3>

<p>find an evenly spaced grid for x
</p>


<h3>Usage</h3>

<pre><code class="language-R">makeraster(x, startx, d, newlevels, tol = 0.1)

fitraster(x, tol = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numeric to be fitted with a raster</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startx</code></td>
<td>
<p>starting point ("origin") for calculation of the raster</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>step size of the raster</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newlevels</code></td>
<td>
<p>levels of the raster</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>tolerance for rounding to new levels: elements of x within <code>tol</code> of the distance between the levels of the new grid are rounded to the new grid point.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>makeraster</code> fits the data to the specified raster.
</p>
<p><code>fitraster</code> tries different raster parameter and returns the raster that covers most of the
<code>x</code> values: The differences between the values of <code>x</code> are calculated (possible step
sizes). For each of those step sizes, different points are tried (until all points have been
covered by a raster) and the parameter combination leading to the best coverage (i.e. most points
on the grid) ist used.
</p>
<p>Note that only differences between the sorted values of x are considered as step size.
</p>


<h3>Value</h3>

<p>list with elements
</p>
<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the values of <code>x</code>, possibly rounded to the raster values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>
<p>the values of the raster</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Claudia Beleites
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- c (sample (1:20, 10), (0 : 5) + 0.5)
raster &lt;- makeraster (x, x [1], 2)
raster
plot (x)
abline (h = raster$levels, col = "#00000040")

## unoccupied levels
missing &lt;- setdiff (raster$levels, raster$x)
abline (h = missing, col = "red")

## points acutally on the raster
onraster &lt;- raster$x %in% raster$levels
points (which (onraster), raster$x [onraster], col = "blue", pch = 20)


raster &lt;- fitraster (x)
raster
plot (x)
abline (h = raster$levels, col = "#00000040")

## unoccupied levels
missing &lt;- setdiff (raster$levels, raster$x)
abline (h = missing, col = "red")

## points acutally on the raster
onraster &lt;- raster$x %in% raster$levels
points (which (onraster), raster$x [onraster], col = "blue", pch = 20)

x &lt;- c (sample (1:20, 10), (0 : 5) + 0.45)
raster &lt;- fitraster (x)
raster
plot (x)
abline (h = raster$levels, col = "#00000040")

## unoccupied levels
missing &lt;- setdiff (raster$levels, raster$x)
abline (h = missing, col = "red")

## points acutally on the raster
onraster &lt;- raster$x %in% raster$levels
points (which (onraster), raster$x [onraster], col = "blue", pch = 20)

</code></pre>


</div>