<div class="container">

<table style="width: 100%;"><tr>
<td>dm2seasonal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
(sub)Daily/Monthly -&gt; Seasonal Values
</h2>

<h3>Description</h3>

<p>Generic function for computing a seasonal value for every year of a sub-daily/daily/weekly/monthly time series
</p>


<h3>Usage</h3>

<pre><code class="language-R">dm2seasonal(x, ...)
subdaily2seasonal(x, ...)

## Default S3 method:
dm2seasonal(x, season, FUN, na.rm = TRUE, out.fmt="%Y", ...)

## S3 method for class 'zoo'
dm2seasonal(x, season, FUN, na.rm = TRUE, out.fmt="%Y", ...)

## S3 method for class 'data.frame'
dm2seasonal(x, season, FUN, na.rm = TRUE, dates=1, date.fmt = "%Y-%m-%d", 
            out.type = "data.frame", out.fmt="%Y", ...)
        
## S3 method for class 'matrix'
dm2seasonal(x, season, FUN, na.rm = TRUE, dates=1, date.fmt = "%Y-%m-%d", 
            out.type = "data.frame", out.fmt="%Y", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>zoo, xts, data.frame or matrix object, with sub-daily, daily, weekly or monthly time series. <br>
Measurements at several gauging stations can be stored in a data.frame of matrix object, and in that case, each column of <code>x</code> represent the time series measured in each gauging station, and the column names of <code>x</code> have to correspond to the ID of each station (starting by a letter).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>season</code></td>
<td>

<p>character, indicating the weather season to be used for selecting the data. Valid values are: <br>
-) <kbd>DJF</kbd> : December, January, February   <br>
-) <kbd>MAM</kbd> : March, April, May             <br>
-) <kbd>JJA</kbd> : June, July, August            <br>
-) <kbd>SON</kbd> : September, October, November  <br>
-) <kbd>DJFM</kbd>: December, January, February, March  <br>                   
-) <kbd>AM</kbd>  : April, May                    <br>   
-) <kbd>JJAS</kbd>: June, July, August, September <br>            
-) <kbd>ON</kbd>  : October, November
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>

<p>Function that will be applied to ALL the values of <code>x</code> belonging to the given weather season (e.g., <code>FUN</code> can be some of <code>mean</code>, <code>max</code>, <code>min</code>, <code>sd</code>). <br><b>The FUN value for the winter season (DJF or DJFM) is computed considering the consecutive months of December, January and February/March</b>. See 'Note' section.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>

<p>Logical. Should missing values be removed? <br>
-) <kbd>TRUE</kbd> : the seasonal values  are computed considering only those values different from NA (<b>very important when <code>FUN=sum</code></b>) <br>
-) <kbd>FALSE</kbd>: if there is AT LEAST one NA within a weather season, the corresponding seasonal values are NA
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out.fmt</code></td>
<td>

<p>Character indicating the date format for the output time series. See <code>format</code> in <code>as.Date</code>. Possible values are: <br>
-) <kbd>%Y</kbd>        : only the year will be used for the time. Default option. (e.g., "1961" "1962"...) <br>
-) <kbd>%Y-%m-%d</kbd>: a complete date format will be used for the time. (e.g., "1961-01-01" "1962-01-01"...)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dates</code></td>
<td>

<p>numeric, factor or Date object indicating how to obtain the dates. <br>
If <code>dates</code> is a number (default), it indicates the index of the column in <code>x</code> that stores the dates <br>
If <code>dates</code> is a factor, it is converted into Date class, by using the date format specified by <code>date.fmt</code> <br>
If <code>dates</code> is already of Date class, the code verifies that the number of days on it be equal to the number of elements in <code>x</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date.fmt</code></td>
<td>

<p>Character indicating the format in which the dates are stored in <var>dates</var>, e.g. <kbd>%Y-%m-%d</kbd>. See <code>format</code> in <code>as.Date</code>. <br>
ONLY required when <code>class(dates)=="factor"</code> or <code>class(dates)=="numeric"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out.type</code></td>
<td>

<p>Character that defines the desired type of output. Valid values are: <br>
-) <kbd>data.frame</kbd>: a data.frame, with as many columns as stations are included in <code>x</code>, the year corresponding to each seasonal value are used as row names. <br>
-) <kbd>db</kbd>        : a data.frame, with 4 columns will be produced. <br>
The first column (StationID) stores the ID of the station 
The second column (Year) stores the year,  <br>
The third column (Season) stores the season,<br>
The fourth column (Value) contains the seasonal value corresponding to the values specified in the previous three columns
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>further arguments passed to or from other methods.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A numeric vector with the seasonal values for all the years in which <code>x</code> is defined.
</p>


<h3>Warning</h3>

<p>For any year, the <code>FUN</code> value for the winter season (DJF), is computed considering only January and February, and the value of December is used for computing the winter value of the next year.
</p>


<h3>Note</h3>

<p><code>FUN</code> is applied to all the values of <code>x</code> belonging to the selected season, so the results of this function depends on the frequency sampling of <code>x</code> and the type of function given by <code>FUN</code> <br></p>


<h3>Author(s)</h3>

<p>Mauricio Zambrano-Bigiarini, <a href="mailto:mzb.devel@gmail">mzb.devel@gmail</a>
</p>


<h3>See Also</h3>

<p>, <code>hydroplot</code>, <code>seasonalfunction</code>, <code>time2season</code>, <code>extract</code>, <code>daily2monthly</code>, <code>daily2annual</code>, <code>monthly2annual</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">############
## Loading the DAILY precipitation data at SanMartino
data(SanMartinoPPts)
x &lt;- SanMartinoPPts

## Winter (DJF) values of precipitation for each year of 'x'
dm2seasonal(x, FUN=sum, season="DJF")

############
## Loading the HOURLY discharge data for the Karamea at Gorge streamgauge station
data(KarameaAtGorgeQts)
x &lt;- KarameaAtGorgeQts

## Mean winter (DJF) values of streamflow for each year of 'x'
dm2seasonal(x, FUN=mean, season="DJF")
subdaily2seasonal(x, FUN=mean, season="DJF") # same as above




</code></pre>


</div>