<div class="container">

<table style="width: 100%;"><tr>
<td>hai_data_transform</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data Preprocessor - Transformation Functions</h2>

<h3>Description</h3>

<p>Takes in a recipe and will perform the desired transformation on the selected
varialbe(s) using a selected recipe. To call the desired transformation
recipe use a quoted argument like "boxcos", "bs" etc.
</p>


<h3>Usage</h3>

<pre><code class="language-R">hai_data_transform(
  .recipe_object = NULL,
  ...,
  .type_of_scale = "log",
  .bc_limits = c(-5, 5),
  .bc_num_unique = 5,
  .bs_deg_free = NULL,
  .bs_degree = 3,
  .log_base = exp(1),
  .log_offset = 0,
  .logit_offset = 0,
  .ns_deg_free = 2,
  .rel_shift = 0,
  .rel_reverse = FALSE,
  .rel_smooth = FALSE,
  .yj_limits = c(-5, 5),
  .yj_num_unique = 5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.recipe_object</code></td>
<td>
<p>The data that you want to process</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>One or more selector functions to choose variables to be imputed.
When used with imp_vars, these dots indicate which variables are used to
predict the missing data in each variable. See selections() for more details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.type_of_scale</code></td>
<td>
<p>This is a quoted argument and can be one of the following:
</p>

<ul>
<li>
<p> "boxcox"
</p>
</li>
<li>
<p> "bs"
</p>
</li>
<li>
<p> "log"
</p>
</li>
<li>
<p> "logit"
</p>
</li>
<li>
<p> "ns"
</p>
</li>
<li>
<p> "relu"
</p>
</li>
<li>
<p> "sqrt"
</p>
</li>
<li>
<p> "yeojohnson
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.bc_limits</code></td>
<td>
<p>A length 2 numeric vector defining the range to compute the
transformation parameter lambda.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.bc_num_unique</code></td>
<td>
<p>An integer to specify minimum required unique values to
evaluate for a transformation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.bs_deg_free</code></td>
<td>
<p>The degrees of freedom for the spline. As the degrees of
freedom for a spline increase, more flexible and complex curves can be
generated. When a single degree of freedom is used, the result is a rescaled
version of the original data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.bs_degree</code></td>
<td>
<p>Degree of polynomial spline (integer).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.log_base</code></td>
<td>
<p>A numberic value for the base.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.log_offset</code></td>
<td>
<p>An optional value to add to the data prior to logging (to avoid log(0))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.logit_offset</code></td>
<td>
<p>A numberic value to modify values ofthe columns that are
either one or zero. They are modifed to be <code>x - offset</code> or <code>offset</code> respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.ns_deg_free</code></td>
<td>
<p>The degrees of freedom for the natural spline. As the
degrees of freedom for a natural spline increase, more flexible and complex
curves can be generated. When a single degree of freedom is used, the result
is a rescaled version of the original data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.rel_shift</code></td>
<td>
<p>A numeric value dictating a translation to apply to the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.rel_reverse</code></td>
<td>
<p>A logical to indicate if theleft hinge should be used as
opposed to the right hinge.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.rel_smooth</code></td>
<td>
<p>A logical indicating if hte softplus function, a smooth
approximation to the rectified linear transformation, should be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.yj_limits</code></td>
<td>
<p>A length 2 numeric vector defining the range to compute the
transformation parameter lambda.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.yj_num_unique</code></td>
<td>
<p>An integer where data that have less possible values
will not be evaluated for a transformation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function will get your data ready for processing with many types of ml/ai
models.
</p>
<p>This is intended to be used inside of the data processor and
therefore is an internal function. This documentation exists to explain the process
and help the user understand the parameters that can be set in the pre-processor function.
</p>
<p><code>recipes::step_BoxCox()</code>
</p>


<h3>Value</h3>

<p>A list object
</p>


<h3>Author(s)</h3>

<p>Steven P. Sanderson II, MPH
</p>


<h3>See Also</h3>

<p><a href="https://recipes.tidymodels.org/reference/step_BoxCox.html">https://recipes.tidymodels.org/reference/step_BoxCox.html</a>
</p>
<p><code>recipes::step_bs()</code>
</p>
<p><a href="https://recipes.tidymodels.org/reference/step_bs.html">https://recipes.tidymodels.org/reference/step_bs.html</a>
</p>
<p><code>recipes::step_log()</code>
</p>
<p><a href="https://recipes.tidymodels.org/reference/step_log.html">https://recipes.tidymodels.org/reference/step_log.html</a>
</p>
<p><code>recipes::step_logit()</code>
</p>
<p><a href="https://recipes.tidymodels.org/reference/step_logit.html">https://recipes.tidymodels.org/reference/step_logit.html</a>
</p>
<p><code>recipes::step_ns()</code>
</p>
<p><a href="https://recipes.tidymodels.org/reference/step_ns.html">https://recipes.tidymodels.org/reference/step_ns.html</a>
</p>
<p><code>recipes::step_relu()</code>
</p>
<p><a href="https://recipes.tidymodels.org/reference/step_relu.html">https://recipes.tidymodels.org/reference/step_relu.html</a>
</p>
<p><code>recipes::step_sqrt()</code>
</p>
<p><a href="https://recipes.tidymodels.org/reference/step_sqrt.html">https://recipes.tidymodels.org/reference/step_sqrt.html</a>
</p>
<p><code>recipes::step_YeoJohnson()</code>
</p>
<p><a href="https://recipes.tidymodels.org/reference/step_YeoJohnson.html">https://recipes.tidymodels.org/reference/step_YeoJohnson.html</a>
</p>
<p>Other Data Recipes: 
<code>hai_data_impute()</code>,
<code>hai_data_poly()</code>,
<code>hai_data_scale()</code>,
<code>hai_data_trig()</code>,
<code>pca_your_recipe()</code>
</p>
<p>Other Preprocessor: 
<code>hai_c50_data_prepper()</code>,
<code>hai_cubist_data_prepper()</code>,
<code>hai_data_impute()</code>,
<code>hai_data_poly()</code>,
<code>hai_data_scale()</code>,
<code>hai_data_trig()</code>,
<code>hai_earth_data_prepper()</code>,
<code>hai_glmnet_data_prepper()</code>,
<code>hai_knn_data_prepper()</code>,
<code>hai_ranger_data_prepper()</code>,
<code>hai_svm_poly_data_prepper()</code>,
<code>hai_svm_rbf_data_prepper()</code>,
<code>hai_xgboost_data_prepper()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">suppressPackageStartupMessages(library(dplyr))
suppressPackageStartupMessages(library(recipes))

date_seq &lt;- seq.Date(from = as.Date("2013-01-01"), length.out = 100, by = "month")
val_seq &lt;- rep(rnorm(10, mean = 6, sd = 2), times = 10)
df_tbl &lt;- tibble(
  date_col = date_seq,
  value    = val_seq
)

rec_obj &lt;- recipe(value ~ ., df_tbl)

hai_data_transform(
  .recipe_object = rec_obj,
  value,
  .type_of_scale = "log"
)$scale_rec_obj %&gt;%
  get_juiced_data()

</code></pre>


</div>