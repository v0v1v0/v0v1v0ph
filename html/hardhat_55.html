<div class="container">

<table style="width: 100%;"><tr>
<td>new_default_formula_blueprint</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a new default blueprint</h2>

<h3>Description</h3>

<p>This page contains the constructors for the default blueprints. They can be
extended if you want to add extra behavior on top of what the default
blueprints already do, but generally you will extend the non-default versions
of the constructors found in the documentation for <code>new_blueprint()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">new_default_formula_blueprint(
  intercept = FALSE,
  allow_novel_levels = FALSE,
  ptypes = NULL,
  formula = NULL,
  indicators = "traditional",
  composition = "tibble",
  terms = list(predictors = NULL, outcomes = NULL),
  levels = NULL,
  ...,
  subclass = character()
)

new_default_recipe_blueprint(
  intercept = FALSE,
  allow_novel_levels = FALSE,
  fresh = TRUE,
  strings_as_factors = TRUE,
  composition = "tibble",
  ptypes = NULL,
  recipe = NULL,
  extra_role_ptypes = NULL,
  ...,
  subclass = character()
)

new_default_xy_blueprint(
  intercept = FALSE,
  allow_novel_levels = FALSE,
  composition = "tibble",
  ptypes = NULL,
  ...,
  subclass = character()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>intercept</code></td>
<td>
<p>A logical. Should an intercept be included in the
processed data? This information is used by the <code>process</code> function
in the <code>mold</code> and <code>forge</code> function list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_novel_levels</code></td>
<td>
<p>A logical. Should novel factor levels be allowed at
prediction time? This information is used by the <code>clean</code> function in the
<code>forge</code> function list, and is passed on to <code>scream()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptypes</code></td>
<td>
<p>Either <code>NULL</code>, or a named list with 2 elements, <code>predictors</code>
and <code>outcomes</code>, both of which are 0-row tibbles. <code>ptypes</code> is generated
automatically at <code>mold()</code> time and is used to validate <code>new_data</code> at
prediction time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>Either <code>NULL</code>, or a formula that specifies how the
predictors and outcomes should be preprocessed. This argument is set
automatically at <code>mold()</code> time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indicators</code></td>
<td>
<p>A single character string. Control how factors are
expanded into dummy variable indicator columns. One of:
</p>

<ul>
<li> <p><code>"traditional"</code> - The default. Create dummy variables using the
traditional <code>model.matrix()</code> infrastructure. Generally this creates
<code>K - 1</code> indicator columns for each factor, where <code>K</code> is the number of
levels in that factor.
</p>
</li>
<li> <p><code>"none"</code> - Leave factor variables alone. No expansion is done.
</p>
</li>
<li> <p><code>"one_hot"</code> - Create dummy variables using a one-hot encoding approach
that expands unordered factors into all <code>K</code> indicator columns, rather than
<code>K - 1</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>composition</code></td>
<td>
<p>Either "tibble", "matrix", or "dgCMatrix" for the format
of the processed predictors. If "matrix" or "dgCMatrix" are chosen, all of
the predictors must be numeric after the preprocessing method has been
applied; otherwise an error is thrown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>terms</code></td>
<td>
<p>A named list of two elements, <code>predictors</code> and <code>outcomes</code>. Both
elements are <code>terms</code> objects that describe the terms for the outcomes and
predictors separately. This argument is set automatically at <code>mold()</code> time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>
<p>Either <code>NULL</code> or a named list of character vectors that
correspond to the levels observed when converting character predictor columns
to factors during <code>mold()</code>. This argument is set automatically at <code>mold()</code>
time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Name-value pairs for additional elements of blueprints that
subclass this blueprint.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subclass</code></td>
<td>
<p>A character vector. The subclasses of this blueprint.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fresh</code></td>
<td>
<p>Should already trained operations be re-trained when <code>prep()</code> is
called?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strings_as_factors</code></td>
<td>
<p>Should character columns be converted to factors
when <code>prep()</code> is called?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recipe</code></td>
<td>
<p>Either <code>NULL</code>, or an unprepped recipe. This argument is set
automatically at <code>mold()</code> time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extra_role_ptypes</code></td>
<td>
<p>A named list. The names are the unique non-standard
recipe roles (i.e. everything except <code>"predictors"</code> and <code>"outcomes"</code>). The
values are prototypes of the original columns with that role. These are
used for validation in <code>forge()</code>.</p>
</td>
</tr>
</table>
</div>