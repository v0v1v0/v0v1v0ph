<div class="container">

<table style="width: 100%;"><tr>
<td>H5-attributs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Manipulate HDF5 attributes</h2>

<h3>Description</h3>

<p>Functions to get, set or delete HDF5 attributes for an existing link.
</p>


<h3>Usage</h3>

<pre><code class="language-R">h5Attr(x, which, ...)

h5Attributes(x, ...)

h5AttrNames(x, ...)

h5DeleteAttr(x, which, ...)

h5WriteAttr(x, which, robj, ...)

## S3 method for class 'H5D'
h5Attr(x, which, ...)

## S3 method for class 'H5Group'
h5Attr(x, which, name = NULL, ...)

## S3 method for class 'H5File'
h5Attr(x, which, name = NULL, ...)

## S3 method for class 'character'
h5Attr(x, which, name = NULL, ...)

## S3 method for class 'H5D'
h5AttrNames(x, ...)

## S3 method for class 'H5Group'
h5AttrNames(x, name = NULL, ...)

## S3 method for class 'H5File'
h5AttrNames(x, name = NULL, ...)

## S3 method for class 'character'
h5AttrNames(x, name = NULL, ...)

## S3 method for class 'H5D'
h5Attributes(x, ...)

## S3 method for class 'H5Group'
h5Attributes(x, name = NULL, ...)

## S3 method for class 'H5File'
h5Attributes(x, name = NULL, ...)

## S3 method for class 'character'
h5Attributes(x, name = NULL, ...)

## S3 method for class 'H5D'
h5WriteAttr(
  x,
  which,
  robj,
  overwrite = TRUE,
  check.scalar = TRUE,
  stype = c("utf8", "ascii7"),
  ...
)

## S3 method for class 'H5Group'
h5WriteAttr(
  x,
  which,
  robj,
  name = NULL,
  overwrite = TRUE,
  check.scalar = TRUE,
  stype = c("utf8", "ascii7"),
  ...
)

## S3 method for class 'H5File'
h5WriteAttr(
  x,
  which,
  robj,
  name = NULL,
  overwrite = TRUE,
  check.scalar = TRUE,
  stype = c("utf8", "ascii7"),
  ...
)

## S3 method for class 'character'
h5WriteAttr(
  x,
  which,
  robj,
  name = NULL,
  overwrite = TRUE,
  check.scalar = TRUE,
  stype = c("utf8", "ascii7"),
  ...
)

## S3 method for class 'H5D'
h5DeleteAttr(x, which, ...)

## S3 method for class 'H5Group'
h5DeleteAttr(x, which, name = NULL, ...)

## S3 method for class 'H5File'
h5DeleteAttr(x, which, name = NULL, ...)

## S3 method for class 'character'
h5DeleteAttr(x, which, name = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An <code>H5File</code>, <code>H5Group</code>, 
<code>H5D</code> or a path name of HDF5 file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>Name of the HDF5 attribute</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>robj</code></td>
<td>
<p>An R object to be written as HDF5 attribute</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>Name of an existing HDF5 sub-link. Default is NULL, which will 
use current link.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Whether or not to overwrite the existing HDF5 attribute.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check.scalar</code></td>
<td>
<p>Whether or not to use scalar space when <code>robj</code> is a
scalar. If <code>FALSE</code>, the attribute written will be treated as an array.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stype</code></td>
<td>
<p>Passed to <code>h5GuessDtype</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>H5Attr</code>:
</p>

<ul>
<li>
<p> If <code>which</code> exists in link <code>name</code>, will return an R object 
representing the attribute. If <code>which</code> doesn't exist or contains empty 
data, will return <code>NULL</code>.
</p>
</li>
<li>
<p> If <code>name</code> doesn't exist, will raise an error from 
<code>H5File$attr_exists_by_name()</code>.
</p>
</li>
</ul>
<p><code>h5AttrNames</code> will return a character vector containing all attribute 
names for the given link.
</p>
<p><code>h5Attributes</code> will return a list containing all attributes for the 
given link.
</p>


<h3>Examples</h3>

<pre><code class="language-R">file &lt;- system.file("extdata", "pbmc_small.h5ad", package = "hdf5r.Extra")

# Read H5 attribute
x &lt;- h5Attr(file, "encoding-version")
x &lt;- h5Attr(file, "column-order", "raw/var") ## An empty attribute
stopifnot(length(x) == 0)

h5obj &lt;- h5Open(file, "raw/var", mode = "r")
x &lt;- h5Attr(h5obj, "column-order")

# Read H5 attribute names
h5AttrNames(file)
h5AttrNames(file, "X")
h5AttrNames(h5obj)

# Read all H5 attributes
a1 &lt;- h5Attributes(file, "raw/var")
a2 &lt;- h5Attributes(h5obj)
stopifnot(identical(a1, a2))

# Write H5 attribute
tmp.file &lt;- tempfile(fileext = ".h5")
file.copy(file, tmp.file)

new_a &lt;- character()  # Can write an empty attribute
h5WriteAttr(tmp.file, "new_a", robj = new_a, name = "X")
new_a &lt;- c("a", "b")
h5WriteAttr(tmp.file, "new_a", robj = new_a, name = "X", overwrite = TRUE)
h5Attr(tmp.file, "new_a", name = "X")

# Delete H5 attribute
h5DeleteAttr(tmp.file, "new_a", name = "X")
stopifnot(length(h5Attr(tmp.file, "new_a", name = "X")) == 0)

</code></pre>


</div>